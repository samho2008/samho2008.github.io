(window.webpackJsonp=window.webpackJsonp||[]).push([[217],{2062:function(s,a,t){"use strict";t.r(a);var n=t(34),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"安装-svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-svn"}},[s._v("#")]),s._v(" 安装 SVN")]),s._v(" "),t("h2",{attrs:{id:"linux-系统安装-svn-服务端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-系统安装-svn-服务端"}},[s._v("#")]),s._v(" Linux 系统安装 SVN 服务端")]),s._v(" "),t("h3",{attrs:{id:"检查是否安装-svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查是否安装-svn"}},[s._v("#")]),s._v(" 检查是否安装 SVN")]),s._v(" "),t("p",[s._v("大多数 GNU/Linux 发行版系统自带了 Subversion ，所以它很有可能已经安装在你的系统上了。可以使用下面命令检查是否安装了。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("svn --version\n")])])]),t("p",[s._v("如果 Subversion 服务端没有安装，命令将报告 svn 命令找不到的错误。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# svn --version")]),s._v("\n-bash: svn: 未找到命令\n")])])]),t("h3",{attrs:{id:"安装-svn-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-svn-2"}},[s._v("#")]),s._v(" 安装 SVN")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" subversion\n")])])]),t("h2",{attrs:{id:"创建版本库根目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建版本库根目录"}},[s._v("#")]),s._v(" 创建版本库根目录")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /var/svn/repository\n")])])]),t("h3",{attrs:{id:"启动-svn-服务端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-svn-服务端"}},[s._v("#")]),s._v(" 启动 SVN 服务端")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("svnserve -d -r /var/svn/repository --listen-port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3690")]),s._v("\n")])])]),t("blockquote",[t("ul",[t("li",[t("strong",[s._v("--listen-port")]),s._v("：指定 SVN 监听端口，不加此参数，SVN 默认监听 3690")])])]),s._v(" "),t("h3",{attrs:{id:"svn-多版本库管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#svn-多版本库管理"}},[s._v("#")]),s._v(" SVN 多版本库管理")]),s._v(" "),t("p",[s._v("假设现在有这样的一个需求，公司有一个电商项目 shop，包含前端（frontend）、后端（backend）。")]),s._v(" "),t("p",[s._v("结构层次图：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/var/svn/repository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-- shop\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-- frontend\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-- backend\n")])])]),t("p",[s._v("接下来，需要创建版本库目录。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /var/svn/repository/shop\nsvnadmin create /var/svn/repository/shop/frontend\nsvnadmin create /var/svn/repository/shop/backend\n")])])]),t("p",[s._v("创建完目录之后，要对版本库进行用户权限设置。")]),s._v(" "),t("p",[s._v("前端和后端的开发不能互相访问对方的项目，要进行权限隔离。")]),s._v(" "),t("p",[s._v("其中，")]),s._v(" "),t("p",[s._v("前端由两个人负责：tom、jerry")]),s._v(" "),t("p",[s._v("后端由两个人负责：jason、kevin")]),s._v(" "),t("p",[s._v("接下来，根据上面的需求修改权限配置文件。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /var/svn/repository/shop/frontend/conf/svnserve.conf\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("anon-access "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v("\nauth-access "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v("\npassword-db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\nauthz-db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" authz\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /var/svn/repository/shop/frontend/conf/authz\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("groups"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("shop_frontend_group")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tom,jerry\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("shop_backend_group")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jason,kevin\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("frontend:/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n@shop_frontend_group"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rw\n*"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("backend:/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n@shop_backend_group"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rw\n*"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n")])])]),t("p",[s._v("创建用户。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /var/svn/repository/shop/frontend/conf/passwd\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("tom")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("abc123tom\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jerry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("abc123jerry\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jason")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("abc123jason\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("kevin")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("abc123kevin\n")])])]),t("p",[s._v("在版本库下面创建具体的项目目录：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/svn/repository\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" pro_oa\n")])])]),t("h3",{attrs:{id:"启动-svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-svn"}},[s._v("#")]),s._v(" 启动 SVN")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 SVN 服务器的状态")]),s._v("\nsystemctl status svnserve\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 SVN 服务器")]),s._v("\nsystemctl start svnserve\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开机自启 SVN 服务器")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" svnserve\n")])])]),t("h3",{attrs:{id:"查看-svn-服务器的端口号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看-svn-服务器的端口号"}},[s._v("#")]),s._v(" 查看 SVN 服务器的端口号")]),s._v(" "),t("p",[s._v("默认 SVN 端口号 3690")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" net-tools "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -anp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" svnserve\n")])])]),t("h3",{attrs:{id:"放行防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#放行防火墙"}},[s._v("#")]),s._v(" 放行防火墙")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("firewall-cmd --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3690")]),s._v("/tcp --permanent\nfirewall-cmd --reload\n")])])]),t("blockquote",[t("p",[s._v("参考文献：")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.runoob.com/svn/svn-install.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("SVN 安装 _ 菜鸟教程"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.runoob.com/svn/svn-start-mode.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("SVN 启动模式 _ 菜鸟教程"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);