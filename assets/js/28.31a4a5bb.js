(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1944:function(t,v,_){"use strict";_.r(v);var a=_(34),s=Object(a.a)({},(function(){var t=this,v=t.$createElement,a=t._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"硬盘簇大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬盘簇大小"}},[t._v("#")]),t._v(" 硬盘簇大小")]),t._v(" "),a("p",[t._v("簇是硬盘上存储文件最小的单元。同一个文件，在设置了不同的簇大小的区上会有不同的占用空间。")]),t._v(" "),a("p",[t._v("比如，同一个小文件，在簇大小为 256K 和 4K 的区上的区别，如图所示：")]),t._v(" "),a("p",[t._v("也就是说，如果小文件很多的话，即使空间不满足最小簇大小，也会占用那么多的空间。这就导致小文件多的话，簇大小设置的不合理导致占用硬盘的容量会非常大，造成空间的浪费。")]),t._v(" "),a("p",[a("img",{attrs:{src:_(484),alt:"image-20220430160218462"}})]),t._v(" "),a("p",[a("img",{attrs:{src:_(485),alt:"image-20220430160231595"}})]),t._v(" "),a("h2",{attrs:{id:"簇大小是否对硬盘读写速度有太大影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#簇大小是否对硬盘读写速度有太大影响"}},[t._v("#")]),t._v(" 簇大小是否对硬盘读写速度有太大影响？")]),t._v(" "),a("p",[t._v("如图所示，使用测试工具分别在 4K 和 256K 的硬盘上读写，发现读写速度并没有相差太多。")]),t._v(" "),a("p",[t._v("4K：")]),t._v(" "),a("p",[a("img",{attrs:{src:_(486),alt:"image-20220430160540739"}})]),t._v(" "),a("p",[t._v("256K：")]),t._v(" "),a("p",[a("img",{attrs:{src:_(487),alt:"image-20220430160533733"}})]),t._v(" "),a("h2",{attrs:{id:"簇大小和-4k-对齐的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#簇大小和-4k-对齐的关系"}},[t._v("#")]),t._v(" 簇大小和 4K 对齐的关系？")]),t._v(" "),a("p",[t._v("4K 对齐指的是扇区大小的对齐，和使用簇大小 4K 没有关系。")]),t._v(" "),a("p",[t._v("如图，F 盘的簇大小为 256KB，G 盘的簇大小为 512B，两则均为 4K 对齐的。")]),t._v(" "),a("p",[a("img",{attrs:{src:_(488),alt:"image-20220430161027189"}})]),t._v(" "),a("h2",{attrs:{id:"x-簇大小越大-初始已用空间越小-簇大小越小-初始已用空间越大。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-簇大小越大-初始已用空间越小-簇大小越小-初始已用空间越大。"}},[t._v("#")]),t._v(" （X）簇大小越大，初始已用空间越小；簇大小越小，初始已用空间越大。")]),t._v(" "),a("p",[t._v("簇大小为 512B 时，初始占用空间。")]),t._v(" "),a("p",[a("img",{attrs:{src:_(489),alt:"image-20220430161455589"}})]),t._v(" "),a("p",[t._v("簇大小为 4K 时，初始空间：")]),t._v(" "),a("p",[a("img",{attrs:{src:_(490),alt:"image-20220430161546196"}})]),t._v(" "),a("p",[t._v("簇大小为 32768 KB，占用空间")]),t._v(" "),a("p",[a("img",{attrs:{src:_(491),alt:"image-20220430161734524"}})]),t._v(" "),a("p",[t._v("分析：")]),t._v(" "),a("p",[t._v("空区也会有隐藏的默认目录，存储系统卷信息")]),t._v(" "),a("p",[a("img",{attrs:{src:_(492),alt:"image-20220430162307720"}})]),t._v(" "),a("p",[a("img",{attrs:{src:_(493),alt:"image-20220430162320778"}})]),t._v(" "),a("h2",{attrs:{id:"簇大小设置的太小会导致拷贝小文件的时候特别慢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#簇大小设置的太小会导致拷贝小文件的时候特别慢"}},[t._v("#")]),t._v(" 簇大小设置的太小会导致拷贝小文件的时候特别慢！！！")]),t._v(" "),a("p",[t._v("在 256K 的分区上拷贝小文件：")]),t._v(" "),a("p",[a("img",{attrs:{src:_(494),alt:"image-20220430162918875"}})]),t._v(" "),a("p",[t._v("在 512B 分区上拷贝小文件：")]),t._v(" "),a("p",[a("img",{attrs:{src:_(495),alt:"image-20220430163738941"}})]),t._v(" "),a("p",[t._v("删除文件的时候也会特别慢：")]),t._v(" "),a("p",[t._v("256K 上删除小文件：")]),t._v(" "),a("p",[a("img",{attrs:{src:_(496),alt:"image-20220430163028779"}})]),t._v(" "),a("p",[t._v("512B 上删除小文件：")]),t._v(" "),a("p",[a("img",{attrs:{src:_(497),alt:"image-20220430162954658"}})]),t._v(" "),a("p",[t._v("建议分区的簇大小：")]),t._v(" "),a("h3",{attrs:{id:"ntfs-的默认簇大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ntfs-的默认簇大小"}},[t._v("#")]),t._v(" NTFS 的默认簇大小")]),t._v(" "),a("p",[t._v("下表描述为 NTFS 默认的簇大小。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("卷大小")]),t._v(" "),a("th",[t._v("Windows NT 3.51")]),t._v(" "),a("th",[t._v("Windows NT 4.0")]),t._v(" "),a("th",[t._v("Windows 7 ，Windows Server 2008 R2，Windows Server 2008，Windows Vista ，Windows Server 2003 ，Windows XP 和 Windows 2000")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("7 MB – 512 MB")]),t._v(" "),a("td",[t._v("512 字节")]),t._v(" "),a("td",[t._v("4 KB")]),t._v(" "),a("td",[t._v("4 KB")])]),t._v(" "),a("tr",[a("td",[t._v("512 MB – 1 GB")]),t._v(" "),a("td",[t._v("1 KB")]),t._v(" "),a("td",[t._v("4 KB")]),t._v(" "),a("td",[t._v("4 KB")])]),t._v(" "),a("tr",[a("td",[t._v("1GB–2GB")]),t._v(" "),a("td",[t._v("2 KB")]),t._v(" "),a("td",[t._v("4 KB")]),t._v(" "),a("td",[t._v("4 KB")])]),t._v(" "),a("tr",[a("td",[t._v("2 GB–2 TB")]),t._v(" "),a("td",[t._v("4 KB")]),t._v(" "),a("td",[t._v("4 KB")]),t._v(" "),a("td",[t._v("4 KB")])]),t._v(" "),a("tr",[a("td",[t._v("2 TB – 16 TB")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("4 KB")])]),t._v(" "),a("tr",[a("td",[t._v("时为 16 TB 到 32 TB")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("8 KB")])]),t._v(" "),a("tr",[a("td",[t._v("32 TB – 64 TB")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("16 KB")])]),t._v(" "),a("tr",[a("td",[t._v("64 TB – 128 TB")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("32 KB")])]),t._v(" "),a("tr",[a("td",[t._v("128 TB-256TB")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("不支持 *")]),t._v(" "),a("td",[t._v("64 KB")])]),t._v(" "),a("tr",[a("td",[t._v("256TB >")]),t._v(" "),a("td",[t._v("不受支持")]),t._v(" "),a("td",[t._v("不受支持")]),t._v(" "),a("td",[t._v("不受支持")])])])]),t._v(" "),a("h3",{attrs:{id:"fat32-的默认簇大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fat32-的默认簇大小"}},[t._v("#")]),t._v(" FAT32 的默认簇大小")]),t._v(" "),a("p",[t._v("下表描述为 FAT32 的默认群集大小。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("卷大小")]),t._v(" "),a("th",[t._v("Windows NT 3.51")]),t._v(" "),a("th",[t._v("Windows NT 4.0")]),t._v(" "),a("th",[t._v("Windows 7 ，Windows Server 2008 R2，Windows Server 2008，Windows Vista ，Windows Server 2003 ，Windows XP 和 Windows 2000")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("7 MB – 16 MB")]),t._v(" "),a("td",[t._v("不受支持")]),t._v(" "),a("td",[t._v("不受支持")]),t._v(" "),a("td",[t._v("不受支持")])]),t._v(" "),a("tr",[a("td",[t._v("16 MB – 32 MB")]),t._v(" "),a("td",[t._v("512 字节")]),t._v(" "),a("td",[t._v("512 字节")]),t._v(" "),a("td",[t._v("不受支持")])]),t._v(" "),a("tr",[a("td",[t._v("32 MB – 64 MB")]),t._v(" "),a("td",[t._v("512 字节")]),t._v(" "),a("td",[t._v("512 字节")]),t._v(" "),a("td",[t._v("512 字节")])]),t._v(" "),a("tr",[a("td",[t._v("64 MB – 128 MB")]),t._v(" "),a("td",[t._v("1 KB")]),t._v(" "),a("td",[t._v("1 KB")]),t._v(" "),a("td",[t._v("1 KB")])]),t._v(" "),a("tr",[a("td",[t._v("128 MB-256 MB")]),t._v(" "),a("td",[t._v("2 KB")]),t._v(" "),a("td",[t._v("2 KB")]),t._v(" "),a("td",[t._v("2 KB")])]),t._v(" "),a("tr",[a("td",[t._v("256 MB – 8 GB")]),t._v(" "),a("td",[t._v("4 KB")]),t._v(" "),a("td",[t._v("4 KB")]),t._v(" "),a("td",[t._v("4 KB")])]),t._v(" "),a("tr",[a("td",[t._v("8GB–16GB")]),t._v(" "),a("td",[t._v("8 KB")]),t._v(" "),a("td",[t._v("8 KB")]),t._v(" "),a("td",[t._v("8 KB")])]),t._v(" "),a("tr",[a("td",[t._v("16GB–32GB")]),t._v(" "),a("td",[t._v("16 KB")]),t._v(" "),a("td",[t._v("16 KB")]),t._v(" "),a("td",[t._v("16 KB")])]),t._v(" "),a("tr",[a("td",[t._v("32GB–2TB")]),t._v(" "),a("td",[t._v("32 KB")]),t._v(" "),a("td",[t._v("不受支持")]),t._v(" "),a("td",[t._v("不受支持")])]),t._v(" "),a("tr",[a("td",[t._v("> 2TB")]),t._v(" "),a("td",[t._v("不受支持")]),t._v(" "),a("td",[t._v("不受支持")]),t._v(" "),a("td",[t._v("不受支持")])])])]),t._v(" "),a("h3",{attrs:{id:"exfat-的默认簇大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exfat-的默认簇大小"}},[t._v("#")]),t._v(" ExFAT 的默认簇大小")]),t._v(" "),a("p",[t._v("下表描述了 exFAT 的默认群集大小。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("卷大小")]),t._v(" "),a("th",[t._v("Windows 7，Windows Server 2008 R2，Windows Server 2008，Windows Vista 和 Windows Server 2003，Windows XP")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("7 MB-256 MB")]),t._v(" "),a("td",[t._v("4 KB")])]),t._v(" "),a("tr",[a("td",[t._v("256 MB-32 GB")]),t._v(" "),a("td",[t._v("32 KB")])]),t._v(" "),a("tr",[a("td",[t._v("32 GB-256TB")]),t._v(" "),a("td",[t._v("128KB")])]),t._v(" "),a("tr",[a("td",[t._v("256TB >")]),t._v(" "),a("td",[t._v("不受支持")])])])]),t._v(" "),a("h2",{attrs:{id:"_128kb-和-256kb-簇大小-文件多时的对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_128kb-和-256kb-簇大小-文件多时的对比"}},[t._v("#")]),t._v(" 128KB 和 256KB 簇大小，文件多时的对比")]),t._v(" "),a("p",[t._v("可以看到，簇大小虽然只差 128KB，但是文件多的话，占用空间却整整相差了 31GB！想想看我们的硬盘总容量才多少。")]),t._v(" "),a("p",[a("img",{attrs:{src:_(498),alt:"image-20220430173411772"}})]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("簇大小设小了是可以节约空间，同时你的 U 盘掉速会很严重。（实验证明了确实是这样）")]),t._v(" "),a("blockquote",[a("p",[t._v("参考资料："),a("a",{attrs:{href:"https://www.v2ex.com/t/767872",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.v2ex.com/t/767872"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[t._v("文件系统为文件分配磁盘空间是以簇为单位的。簇的尺寸大大或者太小都不合适。请问，簇的尺寸太大会有什么缺点?簇的尺寸太小会有什么缺点?")]),t._v(" "),a("p",[t._v("答案：大的簇尺寸意味着小文件也要占用很大的空间，造成磁盘空间的浪费。小的尺寸表示大的文件需要跨越多个簇进行存取，因此需要多次寻道与旋转延迟才能请出所需要的数据，延长了访问的时间。")]),t._v(" "),a("p",[t._v("参考资料："),a("a",{attrs:{href:"https://wangxiao.xisaiwang.com/tiku2/11202820.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://wangxiao.xisaiwang.com/tiku2/11202820.html"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[t._v("参考资料：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://support.microsoft.com/zh-cn/topic/%E5%AF%B9%E4%BA%8E-ntfs-fat-%E5%92%8C-exfat-%E7%9A%84%E9%BB%98%E8%AE%A4%E7%B0%87%E5%A4%A7%E5%B0%8F-9772e6f1-e31a-00d7-e18f-73169155af95",target:"_blank",rel:"noopener noreferrer"}},[t._v("对于 NTFS、 FAT 和 exFAT 的默认簇大小"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=s.exports},484:function(t,v,_){t.exports=_.p+"assets/img/image-20220430160218462.588833a3.png"},485:function(t,v,_){t.exports=_.p+"assets/img/image-20220430160231595.8fbc37fe.png"},486:function(t,v,_){t.exports=_.p+"assets/img/image-20220430160540739.7a453e02.png"},487:function(t,v,_){t.exports=_.p+"assets/img/image-20220430160533733.76bef541.png"},488:function(t,v,_){t.exports=_.p+"assets/img/image-20220430161027189.008c2750.png"},489:function(t,v,_){t.exports=_.p+"assets/img/image-20220430161455589.f99046f0.png"},490:function(t,v,_){t.exports=_.p+"assets/img/image-20220430161546196.836b4cba.png"},491:function(t,v,_){t.exports=_.p+"assets/img/image-20220430161734524.50da1f7c.png"},492:function(t,v,_){t.exports=_.p+"assets/img/image-20220430162307720.fb955aaf.png"},493:function(t,v,_){t.exports=_.p+"assets/img/image-20220430162320778.3788b7bf.png"},494:function(t,v,_){t.exports=_.p+"assets/img/image-20220430162918875.c1769685.png"},495:function(t,v,_){t.exports=_.p+"assets/img/image-20220430163738941.a1ee204e.png"},496:function(t,v,_){t.exports=_.p+"assets/img/image-20220430163028779.176b10f2.png"},497:function(t,v,_){t.exports=_.p+"assets/img/image-20220430162954658.b627125b.png"},498:function(t,v,_){t.exports=_.p+"assets/img/image-20220430173411772.f961713c.png"}}]);