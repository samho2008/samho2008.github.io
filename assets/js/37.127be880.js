(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1420:function(t,a,e){t.exports=e.p+"assets/img/image-20220423122950156.204e8221.png"},1421:function(t,a,e){t.exports=e.p+"assets/img/image-20220423123926367.6a3e7f9c.png"},1422:function(t,a,e){t.exports=e.p+"assets/img/image-20220423123948104.037b0463.png"},1423:function(t,a,e){t.exports=e.p+"assets/img/image-20220423124026687.6e421e75.png"},1424:function(t,a,e){t.exports=e.p+"assets/img/image-20220423124109799.85b4c7ed.png"},1425:function(t,a,e){t.exports=e.p+"assets/img/image-20220423124154937.91141315.png"},1426:function(t,a,e){t.exports=e.p+"assets/img/image-20220423124411716.4eb4529f.png"},1427:function(t,a,e){t.exports=e.p+"assets/img/image-20220423131117707.f73f064a.png"},1428:function(t,a,e){t.exports=e.p+"assets/img/image-20220423132036914.2b0f43e2.png"},1429:function(t,a,e){t.exports=e.p+"assets/img/image-20220423132052263.5254db5d.png"},1430:function(t,a,e){t.exports=e.p+"assets/img/image-20220422080002120.dad882a8.png"},1431:function(t,a,e){t.exports=e.p+"assets/img/image-20220422080036694.c2d3d01c.png"},2084:function(t,a,e){"use strict";e.r(a);var s=e(34),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_03-vmware-workstation-的克隆与快照"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_03-vmware-workstation-的克隆与快照"}},[t._v("#")]),t._v(" 03-VMware Workstation 的克隆与快照")]),t._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[t._v("虚拟机克隆分为“完整克隆”（Full Clone）和“链接克隆”（Linked Clone）两种方式。")]),t._v(" "),s("p",[t._v("克隆过程中，VMware 会生成和原始虚拟机不同的 MAC 地址和 UUID，这就允许克隆的虚拟机和原始虚拟机在同一网络中出现，并且不会产生任何冲突。")]),t._v(" "),s("h2",{attrs:{id:"vmware-完整克隆-full-clone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vmware-完整克隆-full-clone"}},[t._v("#")]),t._v(" VMware 完整克隆（Full Clone）")]),t._v(" "),s("p",[t._v("完整克隆的虚拟机不依赖源虚拟机，是完全独立的虚拟机，它的性能与被克隆虚拟机相同。")]),t._v(" "),s("p",[t._v("由于完整克隆不与父虚拟机共享虚拟磁盘，所以创建完整克隆所需的时间比链接克隆更长。如果涉及的文件较大，完整克隆可能需要数分钟才能创建完成。完整克隆只复制克隆操作时的虚拟机状态，因此无法访问父虚拟机的快照。")]),t._v(" "),s("h2",{attrs:{id:"vmware-链接克隆-linked-clone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vmware-链接克隆-linked-clone"}},[t._v("#")]),t._v(" VMware 链接克隆（Linked Clone）")]),t._v(" "),s("p",[t._v("链接克隆依赖于源虚拟机（称为父虚拟机）。需要通过父虚拟机的快照创建而成，因此节省了磁盘空间，而且克隆速度非常快，但是克隆后的虚拟机性能会有所下降。")]),t._v(" "),s("p",[t._v("对父虚拟机的虚拟磁盘进行的更改不会影响链接克隆，对链接克隆磁盘所做的更改也不会影响父虚拟机。但是如果父虚拟机损坏或快照点删除，链接克隆的虚拟机也不能使用；如果父虚拟机移动位置，需要重新指定父虚拟机的位置，再启动链接克隆虚拟机。")]),t._v(" "),s("h2",{attrs:{id:"操作实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作实践"}},[t._v("#")]),t._v(" 操作实践")]),t._v(" "),s("p",[t._v("需求说明：现在有一台 MySQL 主服务器，需要克隆出来一台从服务器。实现 MySQL 的主从同步。")]),t._v(" "),s("p",[t._v("选中 MySQL 的 master 服务器，右键找到管理，然后点击克隆。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1420),alt:"image-20220423122950156"}})]),t._v(" "),s("p",[s("img",{attrs:{src:e(1421),alt:"image-20220423123926367"}})]),t._v(" "),s("p",[s("img",{attrs:{src:e(1422),alt:"image-20220423123948104"}})]),t._v(" "),s("p",[s("img",{attrs:{src:e(1423),alt:"image-20220423124026687"}})]),t._v(" "),s("p",[s("img",{attrs:{src:e(1424),alt:"image-20220423124109799"}})]),t._v(" "),s("p",[s("img",{attrs:{src:e(1425),alt:"image-20220423124154937"}})]),t._v(" "),s("h2",{attrs:{id:"vmware-链接克隆选择虚拟机中的当前状态和现有快照的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vmware-链接克隆选择虚拟机中的当前状态和现有快照的区别"}},[t._v("#")]),t._v(" VMware 链接克隆选择虚拟机中的当前状态和现有快照的区别")]),t._v(" "),s("p",[t._v("如果选择克隆自虚拟机中的当前状态，则会为原虚拟机的当前状态拍一张快照。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1426),alt:"image-20220423124411716"}})]),t._v(" "),s("p",[t._v("如果是选择现有快照，则不会创建一个新的快照，但是会给现有快照加上一把锁（因为克隆出来的虚拟机依赖于原快照）。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1427),alt:"image-20220423131117707"}})]),t._v(" "),s("p",[t._v("如果删除带锁的快照会有警告提示，强行删除原快照后克隆出来的虚拟机将无法启动。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1428),alt:"image-20220423132036914"}})]),t._v(" "),s("p",[s("img",{attrs:{src:e(1429),alt:"image-20220423132052263"}})]),t._v(" "),s("h1",{attrs:{id:"拍摄系统快照"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拍摄系统快照"}},[t._v("#")]),t._v(" 拍摄系统快照")]),t._v(" "),s("h2",{attrs:{id:"简介-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介-2"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[t._v("快照是虚拟机某个时间点上完整系统的镜像，可以在虚拟机内部通过快照文件恢复系统到之前的节点。")]),t._v(" "),s("h2",{attrs:{id:"拍摄快照"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拍摄快照"}},[t._v("#")]),t._v(" 拍摄快照")]),t._v(" "),s("p",[t._v("选择要拍摄快照的虚拟机，右键 --\x3e 快照(N) --\x3e 拍摄快照")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1430),alt:"image-20220422080002120"}})]),t._v(" "),s("h2",{attrs:{id:"恢复快照"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#恢复快照"}},[t._v("#")]),t._v(" 恢复快照")]),t._v(" "),s("p",[t._v("选择要恢复的快照，显示的顺序按照最新拍摄的快照时间降序排序。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1431),alt:"image-20220422080036694"}})]),t._v(" "),s("h1",{attrs:{id:"总结-summary"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结-summary"}},[t._v("#")]),t._v(" 总结（Summary）")]),t._v(" "),s("p",[t._v("本章节主要对 VMware 环境的下对 Linux 克隆和快照做了一个讲解及实现。需要掌握为什么克隆和快照以及如何实现。")]),t._v(" "),s("blockquote",[s("p",[t._v("参考资料：")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://yutian.blog.csdn.net/article/details/119394526",target:"_blank",rel:"noopener noreferrer"}},[t._v("03-Linux系统克隆和快照"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/ccn82550/p/11569259.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("虚拟机链接克隆和完整克隆区别"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);