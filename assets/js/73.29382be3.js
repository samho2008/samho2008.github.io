(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1237:function(a,t,s){a.exports=s.p+"assets/img/image-20220507044726007.a802d4d7.png"},1238:function(a,t,s){a.exports=s.p+"assets/img/image-20220507045211044.a75e34aa.png"},1239:function(a,t,s){a.exports=s.p+"assets/img/image-20220507045425954.38243cb3.png"},1240:function(a,t,s){a.exports=s.p+"assets/img/image-20220507045801801.3da74813.png"},1241:function(a,t,s){a.exports=s.p+"assets/img/image-20220507050446843.de802b42.png"},2066:function(a,t,s){"use strict";s.r(t);var e=s(34),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"安装-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-tomcat"}},[a._v("#")]),a._v(" 安装 Tomcat")]),a._v(" "),e("h2",{attrs:{id:"windows-系统安装-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-系统安装-tomcat"}},[a._v("#")]),a._v(" Windows 系统安装 Tomcat")]),a._v(" "),e("h2",{attrs:{id:"linux-系统安装-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-系统安装-tomcat"}},[a._v("#")]),a._v(" Linux 系统安装 Tomcat")]),a._v(" "),e("h3",{attrs:{id:"方式一-解压安装-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式一-解压安装-tomcat"}},[a._v("#")]),a._v(" 方式一：解压安装 Tomcat")]),a._v(" "),e("h4",{attrs:{id:"一键解压安装脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一键解压安装脚本"}},[a._v("#")]),a._v(" 一键解压安装脚本")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Tomcat 下载站只有最新的版本，没有历史版本，需要手动换成最新的版本号！")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Tomcat 版本号，需要去 Tomcat 上查看并换成最新的版本。")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("tomcat_version")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("9.0")]),a._v(".64\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("tomcat_download_url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https://dlcdn.apache.org/tomcat/tomcat-9/v"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${tomcat_version}")]),a._v("/bin/apache-tomcat-"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${tomcat_version}")]),a._v(".tar.gz\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 下载 Tomcat 压缩包")]),a._v("\nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" -P /usr/local/tomcat "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${tomcat_download_url}")]),a._v(" --no-check-certificate\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 解压 Tomcat 压缩包")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/local/tomcat\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf apache-tomcat-"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${tomcat_version}")]),a._v(".tar.gz\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动 Tomcat")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" apache-tomcat-"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${tomcat_version}")]),a._v("/bin\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" startup.sh\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 防火墙放行 8080 端口")]),a._v("\nfirewall-cmd --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v("/tcp --permanent\nfirewall-cmd --reload\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 等待 Tomcat 启动完成")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sleep")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 访问 Tomcat")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1:8080\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查找 Tomcat 进程")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" aux "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" -v "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" tomcat\n\n")])])]),e("h4",{attrs:{id:"下载压缩包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载压缩包"}},[a._v("#")]),a._v(" 下载压缩包")]),a._v(" "),e("p",[a._v("打开 Tomcat 官网："),e("a",{attrs:{href:"https://tomcat.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://tomcat.apache.org/"),e("OutboundLink")],1)]),a._v(" "),e("p",[a._v("在左侧 Download 找到需要的版本，这里以目前用的最多的 Tomcat 9 为例。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1237),alt:"image-20220507044726007"}})]),a._v(" "),e("p",[a._v("下载 Core 中的 .tar.gz")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1238),alt:"image-20220507045211044"}})]),a._v(" "),e("h4",{attrs:{id:"上传压缩包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上传压缩包"}},[a._v("#")]),a._v(" 上传压缩包")]),a._v(" "),e("p",[a._v("需要先创建目录 "),e("code",[a._v("/usr/local/tomcat")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /usr/local/tomcat\n")])])]),e("p",[a._v("下载完成后，把压缩包上传到服务器的 "),e("code",[a._v("/usr/local/tomcat")]),a._v(" 下，也可以直接在服务器上下载压缩包。")]),a._v(" "),e("p",[a._v("右键，复制链接地址，获取压缩包下载地址。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1239),alt:"image-20220507045425954"}})]),a._v(" "),e("p",[a._v("在服务器上下载压缩包：")]),a._v(" "),e("p",[a._v("比如，下载网站为："),e("code",[a._v("https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.62/bin/apache-tomcat-9.0.62.tar.gz")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" -P /usr/local/tomcat https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.62/bin/apache-tomcat-9.0.62.tar.gz --no-check-certificate\n")])])]),e("blockquote",[e("p",[a._v("如果最后不添加 "),e("code",[a._v("--no-check-certificate")]),a._v(" 下载时会出错，因为 "),e("code",[a._v("dlcdn.apache.org")]),a._v(" 官网下载网站的证书过期了。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1240),alt:"image-20220507045801801"}})])]),a._v(" "),e("h4",{attrs:{id:"解压压缩包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解压压缩包"}},[a._v("#")]),a._v(" 解压压缩包")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/local/tomcat\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf apache-tomcat-9.0.62.tar.gz\n")])])]),e("h4",{attrs:{id:"启动-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-tomcat"}},[a._v("#")]),a._v(" 启动 Tomcat")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" apache-tomcat-9.0.62/bin\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" startup.sh\n")])])]),e("h4",{attrs:{id:"访问-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问-tomcat"}},[a._v("#")]),a._v(" 访问 Tomcat")]),a._v(" "),e("p",[a._v("Tomcat 默认的端口号是 8080")]),a._v(" "),e("h5",{attrs:{id:"从服务器内部测试能否正常访问"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从服务器内部测试能否正常访问"}},[a._v("#")]),a._v(" 从服务器内部测试能否正常访问")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1:8080\n")])])]),e("p",[a._v("看到如下截图，说明可以正常访问。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1241),alt:"image-20220507050446843"}})]),a._v(" "),e("h5",{attrs:{id:"从外网访问-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从外网访问-tomcat"}},[a._v("#")]),a._v(" 从外网访问 Tomcat")]),a._v(" "),e("p",[a._v("用浏览器打开，把 192.168.202.241 替换成服务器具体的 IP："),e("code",[a._v("http://192.168.202.241:8080/")])]),a._v(" "),e("p",[a._v("如果浏览器中无法正常访问，查看防火墙是否开启：")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("systemctl status firewalld\n")])])]),e("p",[a._v("如果开启，需要把 8080 端口添加至防火墙中。")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("firewall-cmd --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v("/tcp --permanent\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启防火墙才会生效")]),a._v("\nfirewall-cmd --reload\n")])])]),e("blockquote",[e("p",[a._v("如果还是无法访问，可能是浏览器缓存导致的。可以清理缓存或者使用无痕模式重新打开访问下。")]),a._v(" "),e("p",[a._v("如果还是不行，如果使用的是云服务器，还需要在云服务器防火墙中放行端口。")])]),a._v(" "),e("h4",{attrs:{id:"关闭-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关闭-tomcat"}},[a._v("#")]),a._v(" 关闭 Tomcat")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/local/tomcat/apache-tomcat-9.0.62/bin/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" shutdown.sh\n")])])]),e("h4",{attrs:{id:"把-tomcat-设置为环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#把-tomcat-设置为环境变量"}},[a._v("#")]),a._v(" 把 Tomcat 设置为环境变量")]),a._v(" "),e("p",[a._v("设置为环境变量后，可以在目录的任意地方启动/停止 tomcat，但是也有个问题，有时候我们一台服务器上可能需要启动好几个 Tomcat，这样就有可能误操作，根据实际情况决定是否需要放到环境变量中。")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" /etc/profile\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'# Tomcat'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" /etc/profile\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export TOMCAT_HOME=/usr/local/tomcat/apache-tomcat-9.0.62'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" /etc/profile\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export PATH=${TOMCAT_HOME}/bin:$PATH'")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" /etc/profile\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n")])])]),e("p",[a._v("使用环境变量中的脚本停止和启动 Tomcat")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~\nshutdown.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sleep")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("\nstartup.sh\n\n")])])]),e("h3",{attrs:{id:"方式二-编译安装-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式二-编译安装-tomcat"}},[a._v("#")]),a._v(" 方式二：编译安装 Tomcat")])])}),[],!1,null,null,null);t.default=r.exports}}]);