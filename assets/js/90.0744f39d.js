(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{1933:function(t,v,e){"use strict";e.r(v);var _=e(34),a=Object(_.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"先对http规范入个门。"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#先对http规范入个门。"}},[t._v("#")]),t._v(" 先对HTTP规范入个门。")]),t._v(" "),_("h2",{attrs:{id:"概述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),_("p",[t._v("HTTP (Hypertext transfer protocol) 翻译成中文是超文本传输协议，是网络中计算机与计算机之间通过网络进行数据出传输的一种规范。")]),t._v(" "),_("blockquote",[_("p",[t._v("这里的超文本已经不在局限于文本，还包含图片，音频，视频。")])]),t._v(" "),_("p",[t._v("HTTP 最早是在 1991 年发布了 0.9 版，然后又在 1996 年发布 1.0 版，1997 年是 1.1 版，2015 年发布了 2.0 版，2018 年发布了 3.0 版。随着版本的升级，其特性也在不断的增强，但到目前为止 HTTP/1.1 这个版本依旧是应用最广泛版本。")]),t._v(" "),_("h2",{attrs:{id:"请求-url"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求-url"}},[t._v("#")]),t._v(" 请求 URL")]),t._v(" "),_("p",[t._v("URL 是统一资源定位符，是互联网资源位置的标识方式。我们通常会基于 http 规范通过指定的 url 访问网络中的资源，其 url 语法格式如下：")]),t._v(" "),_("p",[_("code",[t._v("protocol://hostname:port/directory/filename?name=value#anchor")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("部分")]),t._v(" "),_("th",[t._v("含义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("protocol")]),t._v(" "),_("td",[t._v("访问资源使用的协议，如：http，https，ftp，telnet 等。")])]),t._v(" "),_("tr",[_("td",[t._v("hostname")]),t._v(" "),_("td",[t._v("服务器的主机名称，IP地址。")])]),t._v(" "),_("tr",[_("td",[t._v("port")]),t._v(" "),_("td",[t._v("访问的端口号，默认为80。")])]),t._v(" "),_("tr",[_("td",[t._v("directory")]),t._v(" "),_("td",[t._v("访问资源的目录名称。")])]),t._v(" "),_("tr",[_("td",[t._v("filename")]),t._v(" "),_("td",[t._v("访问的资源名称。")])]),t._v(" "),_("tr",[_("td",[t._v("?name=value")]),t._v(" "),_("td",[t._v("访问资源时的参数和参数值")])]),t._v(" "),_("tr",[_("td",[t._v("#anchor")]),t._v(" "),_("td",[t._v("访问当前资源的锚点。")])])])]),t._v(" "),_("h2",{attrs:{id:"http-消息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-消息"}},[t._v("#")]),t._v(" HTTP 消息")]),t._v(" "),_("p",[t._v("http 消息可以分为请求消息和响应消息，但无论是请求消息还是响应消息，都可以将其分成三部分，分别为消息头、空行、消息体。如图所示：")]),t._v(" "),_("p",[_("img",{attrs:{src:e(466),alt:"image-20220422121131998"}})]),t._v(" "),_("h2",{attrs:{id:"http-请求消息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-请求消息"}},[t._v("#")]),t._v(" HTTP 请求消息")]),t._v(" "),_("p",[t._v("http 请求消息是基于 http 协议发送请求时，携带的请求数据，包括请求行，请求头，空行，请求消息体，如图所示：")]),t._v(" "),_("p",[_("img",{attrs:{src:e(467),alt:"image-20220422121317727"}})]),t._v(" "),_("h3",{attrs:{id:"请求行"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求行"}},[t._v("#")]),t._v(" 请求行")]),t._v(" "),_("p",[t._v("请求行是请求消息头中的第一行，其语法结构如下：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("request-method-name request-URI HTTP-version\n")])])]),_("p",[t._v("其中：")]),t._v(" "),_("p",[t._v("request-method-name：表示请求方式(如GET,POST)。")]),t._v(" "),_("p",[t._v("request-URI：表示请求统一资源标识(不含主机部分)。")]),t._v(" "),_("p",[t._v("HTTP-version：表示HTTP协议版本(如HTTP/1.1)。")]),t._v(" "),_("p",[t._v("请求行案例分析：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("GET /test.html HTTP/1.1\nHEAD /query.html HTTP/1.0\nPOST /index.html HTTP/1.1\n")])])]),_("p",[t._v("常用请求方式分析：")]),t._v(" "),_("p",[t._v("GET 表示请求服务端资源。")]),t._v(" "),_("p",[t._v("HEAD 请求服务端资源，但没有响应体。")]),t._v(" "),_("p",[t._v("POST 在服务端创建资源。")]),t._v(" "),_("p",[t._v("PUT 更新服务端目标资源。")]),t._v(" "),_("p",[t._v("PATCH 用于对资源应用部分修改。")]),t._v(" "),_("p",[t._v("DELETE 删除服务端指定的资源。")]),t._v(" "),_("p",[t._v("CONNECT 建立到由目标资源的隧道。")]),t._v(" "),_("p",[t._v("OPTIONS 描述目标资源的通信选项。")]),t._v(" "),_("p",[t._v("TRACE  消息环回测试。")]),t._v(" "),_("h3",{attrs:{id:"请求头"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求头"}},[t._v("#")]),t._v(" 请求头")]),t._v(" "),_("p",[t._v("请求头由一些键值(key/value)对构成，一个key还可以对应多个值，其语法结构如下：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("request-header-name: request-header-value1, request-header-value2, ...\n")])])]),_("p",[t._v("例如：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("Host: www.xyz.com\nConnection: Keep-Alive\nAccept: image/gif, image/jpeg, */*\nAccept-Language: us-en, fr, cn\n")])])]),_("p",[t._v("常见报头如下表所示：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("报头名称")]),t._v(" "),_("th",[t._v("含义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("User-Agent（简称：UA）")]),t._v(" "),_("td",[t._v("用户代理。允许将客户端信息告诉服务器。")])]),t._v(" "),_("tr",[_("td",[t._v("Host")]),t._v(" "),_("td",[t._v("请求资源的主机和端口号，可从URL中获取。")])]),t._v(" "),_("tr",[_("td",[t._v("Accept")]),t._v(" "),_("td",[t._v("允许客户端接受哪些类型的信息。如image/gif, text/html ，"),_("em",[t._v("/")]),t._v("(所有类型)。")])]),t._v(" "),_("tr",[_("td",[t._v("Accept-Language")]),t._v(" "),_("td",[t._v("客户端可以接受的语言类型。")])]),t._v(" "),_("tr",[_("td",[t._v("Accept-Encoding")]),t._v(" "),_("td",[t._v("指定可接受的内容压缩编码类型。")])]),t._v(" "),_("tr",[_("td",[t._v("Accept-Charset")]),t._v(" "),_("td",[t._v("指定客户端接受的字符集。")])]),t._v(" "),_("tr",[_("td",[t._v("Cookie")]),t._v(" "),_("td",[t._v("传输到服务器端的COOKIE数据。")])]),t._v(" "),_("tr",[_("td",[t._v("Connection")]),t._v(" "),_("td",[t._v("连接类型。")])]),t._v(" "),_("tr",[_("td",[t._v("Cache-Control")]),t._v(" "),_("td",[t._v("控制缓存。")])]),t._v(" "),_("tr",[_("td",[t._v("Referer")]),t._v(" "),_("td",[t._v("可以记录访问的来源，统计访问量。")])])])]),t._v(" "),_("h3",{attrs:{id:"请求消息体"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求消息体"}},[t._v("#")]),t._v(" 请求消息体")]),t._v(" "),_("p",[t._v("请求正文信息，比方说发送 post 请求时，可以将客户端要提交的表单部分内容放在这里传递到服务端。")]),t._v(" "),_("p",[t._v("综合案例分析：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("POST /user HTTP/1.1\nHost: www.xy.com\nAccept: image/gif, image/jpeg, */*\nAccept-Language: en-us\nAccept-Encoding: gzip, deflate\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)\n(blank line)\nid=10&name=tony\n")])])]),_("h2",{attrs:{id:"http-响应消息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-响应消息"}},[t._v("#")]),t._v(" HTTP 响应消息")]),t._v(" "),_("p",[t._v("HTTP 响应消息由状态行、响应头、空行、响应消息体构成。如图所示：")]),t._v(" "),_("p",[_("img",{attrs:{src:e(468),alt:"image-20220422153023901"}})]),t._v(" "),_("h3",{attrs:{id:"响应状态行"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#响应状态行"}},[t._v("#")]),t._v(" 响应状态行")]),t._v(" "),_("p",[t._v("响应行是响应消息头中的第一行，其语法结构如下：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("HTTP-version status-code reason-phrase\n")])])]),_("p",[t._v("HTTP-version 为协议版本。")]),t._v(" "),_("p",[t._v("status-code 为响应状态码。")]),t._v(" "),_("p",[t._v("reason-phrase 为响应描述。")]),t._v(" "),_("p",[t._v("响应状态行案例分析：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("HTTP/1.1 200 OK\nHTTP/1.0 404 Not Found\nHTTP/1.1 403 Forbidden\n")])])]),_("p",[t._v("响应状态码由三位数字组成，第一位数字定义了响应类别，例如：")]),t._v(" "),_("p",[t._v("1xx：表示请求已接收，继续处理。")]),t._v(" "),_("p",[t._v("2xx：表示请求已被服务端成功处理。")]),t._v(" "),_("p",[t._v("3xx：表示请求需更进一步的操作。")]),t._v(" "),_("p",[t._v("4xx：客户端请求不正确。")]),t._v(" "),_("p",[t._v("5xx：服务器处理请求时错误。")]),t._v(" "),_("p",[t._v("常见状态码分析：")]),t._v(" "),_("p",[t._v("200 OK.请求响应成功。")]),t._v(" "),_("p",[t._v("302 临时重定向。")]),t._v(" "),_("p",[t._v("304 服务内容没有变化。")]),t._v(" "),_("p",[t._v("400 当前请求无法被服务器理解。")]),t._v(" "),_("p",[t._v("401 当前请求需要用户验证。")]),t._v(" "),_("p",[t._v("403 客户端无权访问资源。")]),t._v(" "),_("p",[t._v("404 请求资源不存在。")]),t._v(" "),_("p",[t._v("405 请求方式不被允许。")]),t._v(" "),_("p",[t._v("406 无法解析服务端返回的数据。")]),t._v(" "),_("p",[t._v("408 请求超时。")]),t._v(" "),_("p",[t._v("413 请求实体太大。")]),t._v(" "),_("p",[t._v("415 不支持的媒体类型。")]),t._v(" "),_("p",[t._v("500 服务器发生不可预见错误。")]),t._v(" "),_("p",[t._v("503 服务暂时不可用。")]),t._v(" "),_("p",[t._v("504 网关请求超时。")]),t._v(" "),_("h3",{attrs:{id:"响应头"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#响应头"}},[t._v("#")]),t._v(" 响应头")]),t._v(" "),_("p",[t._v("响应头用于告诉浏览器，应当怎样处理响应数据，其语法也是键值对结构。")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("response-header-name: response-header-value1, response-header-value2, ...\n")])])]),_("p",[t._v("响应头案例分析：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("Content-Type: text/html\nContent-Length: 35\nConnection: Keep-Alive\nKeep-Alive: timeout=15, max=100\n")])])]),_("p",[t._v("部分响应头部含义如下：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("响应报头")]),t._v(" "),_("th",[t._v("含义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("Date")]),t._v(" "),_("td",[t._v("告诉浏览器，请求页面的时间")])]),t._v(" "),_("tr",[_("td",[t._v("Server")]),t._v(" "),_("td",[t._v("服务器软件信息")])]),t._v(" "),_("tr",[_("td",[t._v("Content-Length")]),t._v(" "),_("td",[t._v("回送数据的字节数")])]),t._v(" "),_("tr",[_("td",[t._v("Content-Type")]),t._v(" "),_("td",[t._v("回送内容的类型")])]),t._v(" "),_("tr",[_("td",[t._v("Expires")]),t._v(" "),_("td",[t._v("表示存在时间，允许客户端在这个给时间之前不检查（发请求）")])]),t._v(" "),_("tr",[_("td",[t._v("Cache-Control")]),t._v(" "),_("td",[t._v("缓存控制")])]),t._v(" "),_("tr",[_("td",[t._v("X-Powered-By")]),t._v(" "),_("td",[t._v("版权信息（程序支持）")])]),t._v(" "),_("tr",[_("td",[t._v("Keep-Alive")]),t._v(" "),_("td",[t._v("连接类型")])]),t._v(" "),_("tr",[_("td",[t._v("Location")]),t._v(" "),_("td",[t._v("响应报头域用于重定向到一个新的位置")])]),t._v(" "),_("tr",[_("td",[t._v("Refresh")]),t._v(" "),_("td",[t._v("页面刷新时间")])]),t._v(" "),_("tr",[_("td",[t._v("Last-modified")]),t._v(" "),_("td",[t._v("指定服务器上保存内容的最后修订时间")])])])]),t._v(" "),_("h3",{attrs:{id:"响应消息体"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#响应消息体"}},[t._v("#")]),t._v(" 响应消息体")]),t._v(" "),_("p",[t._v("响应正文信息，服务端一般会将要响应到客户端的正文信息放在这里，然后传递到客户端。")]),t._v(" "),_("p",[t._v("综合案例分析：")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v('HTTP/1.1 200 OK\nDate: Sun, 18 Oct 2009 08:56:53 GMT\nServer: Apache/2.2.14 (Win32)\nLast-Modified: Sat, 20 Nov xxxx\nETag: "a5-2c-3e94b66c2e680"\nAccept-Ranges: bytes\nContent-Length: 44\nConnection: close\nContent-Type: text/html\nX-Pad: avoid browser bug\n(blank line)\n<html><body><h1>It works!</h1></body></html>\n')])])]),_("blockquote",[_("p",[t._v("参考资料：")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://mp.weixin.qq.com/s/l0uTm2DPEbR6T4nUnYbgRA",target:"_blank",rel:"noopener noreferrer"}},[t._v("先对HTTP规范入个门。"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=a.exports},466:function(t,v,e){t.exports=e.p+"assets/img/image-20220422121131998.75cee55f.png"},467:function(t,v,e){t.exports=e.p+"assets/img/image-20220422121317727.11b4e631.png"},468:function(t,v,e){t.exports=e.p+"assets/img/image-20220422153023901.d68ddb49.png"}}]);