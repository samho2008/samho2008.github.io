<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx 面试题 | Sam 的个人博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.fa8f47f5.css" as="style"><link rel="preload" href="/assets/js/app.7d6ea31b.js" as="script"><link rel="preload" href="/assets/js/9.acf81f66.js" as="script"><link rel="preload" href="/assets/js/74.94cc89c0.js" as="script"><link rel="prefetch" href="/assets/js/10.68120c55.js"><link rel="prefetch" href="/assets/js/100.4802586b.js"><link rel="prefetch" href="/assets/js/101.6caefd13.js"><link rel="prefetch" href="/assets/js/102.4c55962f.js"><link rel="prefetch" href="/assets/js/103.32d4692e.js"><link rel="prefetch" href="/assets/js/104.ae9a602e.js"><link rel="prefetch" href="/assets/js/105.8c286167.js"><link rel="prefetch" href="/assets/js/106.6ca6d1c7.js"><link rel="prefetch" href="/assets/js/107.5a2269dc.js"><link rel="prefetch" href="/assets/js/108.7cd36f05.js"><link rel="prefetch" href="/assets/js/109.8034d963.js"><link rel="prefetch" href="/assets/js/11.37a9ebfc.js"><link rel="prefetch" href="/assets/js/110.21a780b8.js"><link rel="prefetch" href="/assets/js/111.c282d14c.js"><link rel="prefetch" href="/assets/js/112.2a3b8cca.js"><link rel="prefetch" href="/assets/js/113.6c8ff7e2.js"><link rel="prefetch" href="/assets/js/114.f3373912.js"><link rel="prefetch" href="/assets/js/115.8d96dc86.js"><link rel="prefetch" href="/assets/js/116.0b825bf9.js"><link rel="prefetch" href="/assets/js/117.ef4da78b.js"><link rel="prefetch" href="/assets/js/118.acf35a72.js"><link rel="prefetch" href="/assets/js/119.da0c9fe4.js"><link rel="prefetch" href="/assets/js/12.7d98c09d.js"><link rel="prefetch" href="/assets/js/120.2ce1926b.js"><link rel="prefetch" href="/assets/js/121.1e85a8d4.js"><link rel="prefetch" href="/assets/js/122.988f9de9.js"><link rel="prefetch" href="/assets/js/123.0348e36c.js"><link rel="prefetch" href="/assets/js/124.646e4591.js"><link rel="prefetch" href="/assets/js/125.cb3b3cdb.js"><link rel="prefetch" href="/assets/js/126.40739966.js"><link rel="prefetch" href="/assets/js/127.39d184f9.js"><link rel="prefetch" href="/assets/js/128.e1c42ad8.js"><link rel="prefetch" href="/assets/js/129.b571c6af.js"><link rel="prefetch" href="/assets/js/13.8371df69.js"><link rel="prefetch" href="/assets/js/130.9fd42988.js"><link rel="prefetch" href="/assets/js/131.72af253b.js"><link rel="prefetch" href="/assets/js/132.4efcd860.js"><link rel="prefetch" href="/assets/js/133.747f9b63.js"><link rel="prefetch" href="/assets/js/134.a7211e06.js"><link rel="prefetch" href="/assets/js/135.33bc358f.js"><link rel="prefetch" href="/assets/js/136.00968c7c.js"><link rel="prefetch" href="/assets/js/137.ca78d791.js"><link rel="prefetch" href="/assets/js/138.500e39b1.js"><link rel="prefetch" href="/assets/js/139.735313a7.js"><link rel="prefetch" href="/assets/js/14.be50cae7.js"><link rel="prefetch" href="/assets/js/140.7715329b.js"><link rel="prefetch" href="/assets/js/141.b657b03b.js"><link rel="prefetch" href="/assets/js/142.bd6947cf.js"><link rel="prefetch" href="/assets/js/143.2bd3d142.js"><link rel="prefetch" href="/assets/js/144.627a9f26.js"><link rel="prefetch" href="/assets/js/145.fc7d5ff0.js"><link rel="prefetch" href="/assets/js/146.cbe6a429.js"><link rel="prefetch" href="/assets/js/147.89ff805d.js"><link rel="prefetch" href="/assets/js/148.37b05bc4.js"><link rel="prefetch" href="/assets/js/149.1cd622f2.js"><link rel="prefetch" href="/assets/js/15.e47bf9fa.js"><link rel="prefetch" href="/assets/js/150.5d52081f.js"><link rel="prefetch" href="/assets/js/151.8a621a82.js"><link rel="prefetch" href="/assets/js/152.8fb6b13e.js"><link rel="prefetch" href="/assets/js/153.077e3928.js"><link rel="prefetch" href="/assets/js/154.df77e4e6.js"><link rel="prefetch" href="/assets/js/155.986683f5.js"><link rel="prefetch" href="/assets/js/156.a26127d6.js"><link rel="prefetch" href="/assets/js/157.f61fd119.js"><link rel="prefetch" href="/assets/js/158.dfe9d082.js"><link rel="prefetch" href="/assets/js/159.73cd4443.js"><link rel="prefetch" href="/assets/js/16.6010e099.js"><link rel="prefetch" href="/assets/js/160.ee80729d.js"><link rel="prefetch" href="/assets/js/161.29c2bdc9.js"><link rel="prefetch" href="/assets/js/162.c1b1f5d1.js"><link rel="prefetch" href="/assets/js/163.5f50ed2d.js"><link rel="prefetch" href="/assets/js/164.78502759.js"><link rel="prefetch" href="/assets/js/165.f7803d13.js"><link rel="prefetch" href="/assets/js/166.12e907f0.js"><link rel="prefetch" href="/assets/js/167.e999fd51.js"><link rel="prefetch" href="/assets/js/168.69376917.js"><link rel="prefetch" href="/assets/js/169.6bb87e53.js"><link rel="prefetch" href="/assets/js/17.20770bc1.js"><link rel="prefetch" href="/assets/js/170.9e1e9607.js"><link rel="prefetch" href="/assets/js/171.a86694ad.js"><link rel="prefetch" href="/assets/js/172.34c4d4f1.js"><link rel="prefetch" href="/assets/js/173.f8508243.js"><link rel="prefetch" href="/assets/js/174.c4ecb51e.js"><link rel="prefetch" href="/assets/js/175.0f7bf518.js"><link rel="prefetch" href="/assets/js/176.f20d6002.js"><link rel="prefetch" href="/assets/js/177.bb38c742.js"><link rel="prefetch" href="/assets/js/178.1ce2970c.js"><link rel="prefetch" href="/assets/js/179.79bbc818.js"><link rel="prefetch" href="/assets/js/18.19280c2b.js"><link rel="prefetch" href="/assets/js/180.b8231906.js"><link rel="prefetch" href="/assets/js/181.982ef4ff.js"><link rel="prefetch" href="/assets/js/182.d6e6dea2.js"><link rel="prefetch" href="/assets/js/183.dd029720.js"><link rel="prefetch" href="/assets/js/184.4c1ef18f.js"><link rel="prefetch" href="/assets/js/185.11e7702f.js"><link rel="prefetch" href="/assets/js/186.f2fbea81.js"><link rel="prefetch" href="/assets/js/187.d2773924.js"><link rel="prefetch" href="/assets/js/188.3d5ea055.js"><link rel="prefetch" href="/assets/js/189.5ec6b873.js"><link rel="prefetch" href="/assets/js/19.d9f610fe.js"><link rel="prefetch" href="/assets/js/190.43f8837f.js"><link rel="prefetch" href="/assets/js/191.efef9e0e.js"><link rel="prefetch" href="/assets/js/192.cdd886e9.js"><link rel="prefetch" href="/assets/js/193.acad18b9.js"><link rel="prefetch" href="/assets/js/194.f53b7945.js"><link rel="prefetch" href="/assets/js/195.7e909026.js"><link rel="prefetch" href="/assets/js/196.03ae001a.js"><link rel="prefetch" href="/assets/js/197.f46465ab.js"><link rel="prefetch" href="/assets/js/198.580d7f02.js"><link rel="prefetch" href="/assets/js/199.95aeb2d5.js"><link rel="prefetch" href="/assets/js/20.5c855e7e.js"><link rel="prefetch" href="/assets/js/200.bdbd0bc0.js"><link rel="prefetch" href="/assets/js/201.6695ac0a.js"><link rel="prefetch" href="/assets/js/202.d7b0878e.js"><link rel="prefetch" href="/assets/js/203.bef709c0.js"><link rel="prefetch" href="/assets/js/204.052739a5.js"><link rel="prefetch" href="/assets/js/205.200b8d4e.js"><link rel="prefetch" href="/assets/js/206.b4bbb6ea.js"><link rel="prefetch" href="/assets/js/207.29dfb2f0.js"><link rel="prefetch" href="/assets/js/208.7150d86a.js"><link rel="prefetch" href="/assets/js/209.afbf8b07.js"><link rel="prefetch" href="/assets/js/21.cbcf6201.js"><link rel="prefetch" href="/assets/js/210.82251b25.js"><link rel="prefetch" href="/assets/js/211.27cb8af0.js"><link rel="prefetch" href="/assets/js/212.48faf9db.js"><link rel="prefetch" href="/assets/js/213.b2bc7d54.js"><link rel="prefetch" href="/assets/js/214.0c04852f.js"><link rel="prefetch" href="/assets/js/215.ecb465a4.js"><link rel="prefetch" href="/assets/js/216.64d896b0.js"><link rel="prefetch" href="/assets/js/217.8919d351.js"><link rel="prefetch" href="/assets/js/218.e73565f9.js"><link rel="prefetch" href="/assets/js/219.d130a151.js"><link rel="prefetch" href="/assets/js/22.1fe8b3db.js"><link rel="prefetch" href="/assets/js/220.2a928299.js"><link rel="prefetch" href="/assets/js/221.69ac9aef.js"><link rel="prefetch" href="/assets/js/222.58e79780.js"><link rel="prefetch" href="/assets/js/223.6024431b.js"><link rel="prefetch" href="/assets/js/224.d14632e8.js"><link rel="prefetch" href="/assets/js/225.078e1268.js"><link rel="prefetch" href="/assets/js/226.a0ef5501.js"><link rel="prefetch" href="/assets/js/227.38321d09.js"><link rel="prefetch" href="/assets/js/228.46a8b214.js"><link rel="prefetch" href="/assets/js/229.8dccd7a9.js"><link rel="prefetch" href="/assets/js/23.7edac976.js"><link rel="prefetch" href="/assets/js/230.71739770.js"><link rel="prefetch" href="/assets/js/231.3a76768b.js"><link rel="prefetch" href="/assets/js/232.1366e5c0.js"><link rel="prefetch" href="/assets/js/233.76d5cdb1.js"><link rel="prefetch" href="/assets/js/234.84db52a4.js"><link rel="prefetch" href="/assets/js/235.e8b086fa.js"><link rel="prefetch" href="/assets/js/236.9af88955.js"><link rel="prefetch" href="/assets/js/237.cf401c3c.js"><link rel="prefetch" href="/assets/js/238.622a9148.js"><link rel="prefetch" href="/assets/js/239.ab942877.js"><link rel="prefetch" href="/assets/js/24.fc0e8490.js"><link rel="prefetch" href="/assets/js/240.c67b2ee4.js"><link rel="prefetch" href="/assets/js/241.9f051175.js"><link rel="prefetch" href="/assets/js/242.794ba7fc.js"><link rel="prefetch" href="/assets/js/243.a1e17d5d.js"><link rel="prefetch" href="/assets/js/244.5432c3a4.js"><link rel="prefetch" href="/assets/js/245.caf2e861.js"><link rel="prefetch" href="/assets/js/246.8725f551.js"><link rel="prefetch" href="/assets/js/247.ba1de277.js"><link rel="prefetch" href="/assets/js/248.f980b321.js"><link rel="prefetch" href="/assets/js/249.35e1a391.js"><link rel="prefetch" href="/assets/js/25.c9955ffe.js"><link rel="prefetch" href="/assets/js/250.df173a6e.js"><link rel="prefetch" href="/assets/js/251.60ce9db6.js"><link rel="prefetch" href="/assets/js/252.1aa33ec9.js"><link rel="prefetch" href="/assets/js/253.4e2b316c.js"><link rel="prefetch" href="/assets/js/254.fdf30c3c.js"><link rel="prefetch" href="/assets/js/255.0e355112.js"><link rel="prefetch" href="/assets/js/256.cfeeac0c.js"><link rel="prefetch" href="/assets/js/257.fffe6041.js"><link rel="prefetch" href="/assets/js/258.22e70f30.js"><link rel="prefetch" href="/assets/js/259.181fdea0.js"><link rel="prefetch" href="/assets/js/26.09c2796a.js"><link rel="prefetch" href="/assets/js/260.50791f58.js"><link rel="prefetch" href="/assets/js/261.2e9391f0.js"><link rel="prefetch" href="/assets/js/262.3f53af83.js"><link rel="prefetch" href="/assets/js/263.0e8d2254.js"><link rel="prefetch" href="/assets/js/264.32918230.js"><link rel="prefetch" href="/assets/js/265.a4c555c5.js"><link rel="prefetch" href="/assets/js/266.f7baf0ad.js"><link rel="prefetch" href="/assets/js/267.a37e1bf3.js"><link rel="prefetch" href="/assets/js/268.e5a2eeab.js"><link rel="prefetch" href="/assets/js/269.57095262.js"><link rel="prefetch" href="/assets/js/27.6e956a1d.js"><link rel="prefetch" href="/assets/js/270.78fba938.js"><link rel="prefetch" href="/assets/js/271.c9ba9ad6.js"><link rel="prefetch" href="/assets/js/272.9ffda703.js"><link rel="prefetch" href="/assets/js/273.911320c6.js"><link rel="prefetch" href="/assets/js/274.bce94da4.js"><link rel="prefetch" href="/assets/js/275.f2031ecc.js"><link rel="prefetch" href="/assets/js/276.d312b645.js"><link rel="prefetch" href="/assets/js/277.08b1ded4.js"><link rel="prefetch" href="/assets/js/278.1128b17c.js"><link rel="prefetch" href="/assets/js/279.6f1fa0f2.js"><link rel="prefetch" href="/assets/js/28.31a4a5bb.js"><link rel="prefetch" href="/assets/js/280.fb14608c.js"><link rel="prefetch" href="/assets/js/281.659ab191.js"><link rel="prefetch" href="/assets/js/282.acfec1ce.js"><link rel="prefetch" href="/assets/js/283.85195cd5.js"><link rel="prefetch" href="/assets/js/284.79c99ae9.js"><link rel="prefetch" href="/assets/js/285.2b629b7c.js"><link rel="prefetch" href="/assets/js/286.2535a0f4.js"><link rel="prefetch" href="/assets/js/287.94877737.js"><link rel="prefetch" href="/assets/js/288.a0020b6d.js"><link rel="prefetch" href="/assets/js/289.02e0a9ee.js"><link rel="prefetch" href="/assets/js/29.5817b727.js"><link rel="prefetch" href="/assets/js/290.078fe619.js"><link rel="prefetch" href="/assets/js/291.b604805d.js"><link rel="prefetch" href="/assets/js/292.05987598.js"><link rel="prefetch" href="/assets/js/293.8d4c45f3.js"><link rel="prefetch" href="/assets/js/294.c4a180be.js"><link rel="prefetch" href="/assets/js/295.a35315ab.js"><link rel="prefetch" href="/assets/js/296.02c6736a.js"><link rel="prefetch" href="/assets/js/297.a65a7ee9.js"><link rel="prefetch" href="/assets/js/298.7d719601.js"><link rel="prefetch" href="/assets/js/299.59b1f07a.js"><link rel="prefetch" href="/assets/js/3.5fbcba21.js"><link rel="prefetch" href="/assets/js/30.cab9a626.js"><link rel="prefetch" href="/assets/js/300.54d6362b.js"><link rel="prefetch" href="/assets/js/301.8dce355f.js"><link rel="prefetch" href="/assets/js/302.1c36fd87.js"><link rel="prefetch" href="/assets/js/31.88d8f118.js"><link rel="prefetch" href="/assets/js/32.2da3629c.js"><link rel="prefetch" href="/assets/js/33.88f13bf0.js"><link rel="prefetch" href="/assets/js/34.07d91ede.js"><link rel="prefetch" href="/assets/js/35.26f1de4d.js"><link rel="prefetch" href="/assets/js/36.972eb121.js"><link rel="prefetch" href="/assets/js/37.127be880.js"><link rel="prefetch" href="/assets/js/38.8f93e4fb.js"><link rel="prefetch" href="/assets/js/39.8459c606.js"><link rel="prefetch" href="/assets/js/4.839254d8.js"><link rel="prefetch" href="/assets/js/40.1010bfe4.js"><link rel="prefetch" href="/assets/js/41.e89c44f2.js"><link rel="prefetch" href="/assets/js/42.241b7adc.js"><link rel="prefetch" href="/assets/js/43.469f3c56.js"><link rel="prefetch" href="/assets/js/44.41183dbd.js"><link rel="prefetch" href="/assets/js/45.9ab2873c.js"><link rel="prefetch" href="/assets/js/46.e7766571.js"><link rel="prefetch" href="/assets/js/47.d79b76fd.js"><link rel="prefetch" href="/assets/js/48.9a091e57.js"><link rel="prefetch" href="/assets/js/49.bce7c686.js"><link rel="prefetch" href="/assets/js/5.1c9cb007.js"><link rel="prefetch" href="/assets/js/50.82cdbe8d.js"><link rel="prefetch" href="/assets/js/51.47db6019.js"><link rel="prefetch" href="/assets/js/52.315600e2.js"><link rel="prefetch" href="/assets/js/53.d5effc40.js"><link rel="prefetch" href="/assets/js/54.ea5e46b6.js"><link rel="prefetch" href="/assets/js/55.2cf56139.js"><link rel="prefetch" href="/assets/js/56.ceb4ebc3.js"><link rel="prefetch" href="/assets/js/57.a47ebd01.js"><link rel="prefetch" href="/assets/js/58.75809e20.js"><link rel="prefetch" href="/assets/js/59.ea42836c.js"><link rel="prefetch" href="/assets/js/6.118ea309.js"><link rel="prefetch" href="/assets/js/60.6a3253bf.js"><link rel="prefetch" href="/assets/js/61.fb8df607.js"><link rel="prefetch" href="/assets/js/62.f2c1f696.js"><link rel="prefetch" href="/assets/js/63.bdf419ce.js"><link rel="prefetch" href="/assets/js/64.19042426.js"><link rel="prefetch" href="/assets/js/65.7273fdf4.js"><link rel="prefetch" href="/assets/js/66.bc5146df.js"><link rel="prefetch" href="/assets/js/67.ccb60fb0.js"><link rel="prefetch" href="/assets/js/68.57bed833.js"><link rel="prefetch" href="/assets/js/69.5faf2f25.js"><link rel="prefetch" href="/assets/js/7.ddbd8a7e.js"><link rel="prefetch" href="/assets/js/70.60d7147e.js"><link rel="prefetch" href="/assets/js/71.80a5c708.js"><link rel="prefetch" href="/assets/js/72.c2ee31b2.js"><link rel="prefetch" href="/assets/js/73.29382be3.js"><link rel="prefetch" href="/assets/js/75.c17f750c.js"><link rel="prefetch" href="/assets/js/76.578ba53e.js"><link rel="prefetch" href="/assets/js/77.6f023e40.js"><link rel="prefetch" href="/assets/js/78.d4a30dd8.js"><link rel="prefetch" href="/assets/js/79.e11576bf.js"><link rel="prefetch" href="/assets/js/8.3a2a9b89.js"><link rel="prefetch" href="/assets/js/80.ca2d46a5.js"><link rel="prefetch" href="/assets/js/81.03dfd364.js"><link rel="prefetch" href="/assets/js/82.e445b67c.js"><link rel="prefetch" href="/assets/js/83.f0686af2.js"><link rel="prefetch" href="/assets/js/84.aa691924.js"><link rel="prefetch" href="/assets/js/85.3bb60a42.js"><link rel="prefetch" href="/assets/js/86.e8a9024d.js"><link rel="prefetch" href="/assets/js/87.142d3526.js"><link rel="prefetch" href="/assets/js/88.7980e934.js"><link rel="prefetch" href="/assets/js/89.1146a50c.js"><link rel="prefetch" href="/assets/js/90.0744f39d.js"><link rel="prefetch" href="/assets/js/91.4d7f5d75.js"><link rel="prefetch" href="/assets/js/92.48f84e20.js"><link rel="prefetch" href="/assets/js/93.942717a3.js"><link rel="prefetch" href="/assets/js/94.1bb8ab5e.js"><link rel="prefetch" href="/assets/js/95.3a0863bf.js"><link rel="prefetch" href="/assets/js/96.10d0f660.js"><link rel="prefetch" href="/assets/js/97.df1eaf1a.js"><link rel="prefetch" href="/assets/js/98.fa624d4c.js"><link rel="prefetch" href="/assets/js/99.c28325bf.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.acdeaa44.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fa8f47f5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sam 的个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://gitlab.com/samho2008/samho2008.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitLab
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://gitlab.com/samho2008/samho2008.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitLab
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开发导航</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/navigation/navigation-website.html" class="sidebar-link">网站导航</a></li><li><a href="/navigation/navigation-tedu.html" class="sidebar-link">达内门户网站导航</a></li><li><a href="/navigation/navigation-book.html" class="sidebar-link">书籍记录</a></li><li><a href="/navigation/navigation-bookmark.html" class="sidebar-link">收藏书签</a></li><li><a href="/navigation/navigation-city-college.html" class="sidebar-link">City College 导航</a></li><li><a href="/navigation/navigation-development-convention.html" class="sidebar-link">开发规范</a></li><li><a href="/navigation/navigation-development-document.html" class="sidebar-link">开发文档</a></li><li><a href="/navigation/navigation-development-tool.html" class="sidebar-link">开发工具下载</a></li><li><a href="/navigation/navigation-english.html" class="sidebar-link">英语资料导航</a></li><li><a href="/navigation/navigation-mobile-app.html" class="sidebar-link">手机应用汇总</a></li><li><a href="/navigation/navigation-project.html" class="sidebar-link">项目资料导航</a></li><li><a href="/navigation/navigation-template-project.html" class="sidebar-link">模板项目导航</a></li><li><a href="/navigation/navigation-video.html" class="sidebar-link">学习视频导航</a></li><li><a href="/navigation/navigation-web-frontend.html" class="sidebar-link">Web 前端资料汇总</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开发规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/specification/chinese-and-english-typography-specification.html" class="sidebar-link">中英文排版规范</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>环境部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/install/install-baota-panel.html" class="sidebar-link">安装宝塔面板</a></li><li><a href="/install/install-confluence.html" class="sidebar-link">安装 Confluence</a></li><li><a href="/install/install-docker.html" class="sidebar-link">安装 Docker</a></li><li><a href="/install/install-enterprise-architect.html" class="sidebar-link">安装 Enterprise Architect (EA)</a></li><li><a href="/install/install-frp-client-and-server.html" class="sidebar-link">安装 frp 内网穿透客户端和服务端</a></li><li><a href="/install/install-gitlab.html" class="sidebar-link">安装 GitLab</a></li><li><a href="/install/install-jdk.html" class="sidebar-link">安装 JDK</a></li><li><a href="/install/install-jenkins.html" class="sidebar-link">安装 Jenkins</a></li><li><a href="/install/install-jira.html" class="sidebar-link">安装 JIRA</a></li><li><a href="/install/install-jump-server.html" class="sidebar-link">安装 JumpServer 堡垒机</a></li><li><a href="/install/install-mariadb.html" class="sidebar-link">安装 MariaDB 数据库</a></li><li><a href="/install/install-microsoft-office.html" class="sidebar-link">安装 Microsoft Office</a></li><li><a href="/install/install-mysql.html" class="sidebar-link">安装 MySQL 数据库</a></li><li><a href="/install/install-nginx.html" class="sidebar-link">安装 Nginx</a></li><li><a href="/install/install-nodejs.html" class="sidebar-link">安装 Node.js</a></li><li><a href="/install/install-oracle.html" class="sidebar-link">安装 Oracle</a></li><li><a href="/install/install-photoshop.html" class="sidebar-link">安装 Photoshop</a></li><li><a href="/install/install-redis.html" class="sidebar-link">安装 Redis</a></li><li><a href="/install/install-shadowsocks.html" class="sidebar-link">搭建 Shadowsocks</a></li><li><a href="/install/install-shadowsocksr.html" class="sidebar-link">搭建 ShadowsocksR</a></li><li><a href="/install/install-svn.html" class="sidebar-link">安装 SVN</a></li><li><a href="/install/install-tengine.html" class="sidebar-link">安装 Tengine</a></li><li><a href="/install/install-tomcat.html" class="sidebar-link">安装 Tomcat</a></li><li><a href="/install/install-visual-studio.html" class="sidebar-link">安装 Visual Studio</a></li><li><a href="/install/install-windows-by-vmware.html" class="sidebar-link">通过 VMware 虚拟机安装 Windows</a></li><li><a href="/install/local-area-network-server.html" class="sidebar-link">局域网服务器说明</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Linux 系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux/download-vmware-workstation-pro.html" class="sidebar-link">从官网下载 VMware 安装包</a></li><li><a href="/linux/linux-add-virtual-memory-swap.html" class="sidebar-link">Linux 添加虚拟内存 swap</a></li><li><a href="/linux/linux-auto-run-program.html" class="sidebar-link">Linux 设置软件开机自启</a></li><li><a href="/linux/linux-check-port-occupied.html" class="sidebar-link">Linux 系统检查端口是否被占用</a></li><li><a href="/linux/linux-configure-network.html" class="sidebar-link">Linux 系统网络配置</a></li><li><a href="/linux/linux-file-hierarchy-introduction.html" class="sidebar-link">Linux 系统目录层级结构说明</a></li><li><a href="/linux/linux-netstat-command.html" class="sidebar-link">Linux 系统 netstat 命令</a></li><li><a href="/linux/linux-recover-deleted-file.html" class="sidebar-link">Linux 系统恢复已删除的文件</a></li><li><a href="/linux/linux-sed-command.html" class="sidebar-link">Linux Sed 命令</a></li><li><a href="/linux/linux-tty-origin.html" class="sidebar-link">Linux TTY由来</a></li><li><a href="/linux/linux-vi-command.html" class="sidebar-link">Linux VI 命令</a></li><li><a href="/linux/linux-wget-command.html" class="sidebar-link">Linux wget 命令</a></li><li><a href="/linux/secure-shell-login.html" class="sidebar-link">SSH 免密登录</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Linux操作系统最佳实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux/01-linux-introduction.html" class="sidebar-link">01-Linux 系统简介</a></li><li><a href="/linux/02-linux-install-linux-by-vmware.html" class="sidebar-link">02-通过 VMware 安装 Linux 系统</a></li><li><a href="/linux/03-vmware-clone.html" class="sidebar-link">03-VMware Workstation 的克隆与快照</a></li><li><a href="/linux/04-linux-base-operation.html" class="sidebar-link">04-Linux 基本操作</a></li><li><a href="/linux/05-linux-file-system.html" class="sidebar-link">05-Linux 文件系统及操作</a></li><li><a href="/linux/06-linux-vi-vim-command.html" class="sidebar-link">06-Linux 系统中的 vi 和 vim 指令</a></li><li><a href="/linux/07-linux-yum-command.html" class="sidebar-link">07-Linux 系统中的 yum 指令</a></li><li><a href="/linux/08-linux-environment-variable.html" class="sidebar-link">08-linux系统中环境变量的设置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Windows 系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/windows/how-to-modify-windows-drive-letter.html" class="sidebar-link">如何修改 Windows 系统盘符</a></li><li><a href="/windows/windows-cancel-virtual-memory.html" class="sidebar-link">Windows 系统取消使用虚拟内存</a></li><li><a href="/windows/windows-disable-auto-sleep.html" class="sidebar-link">Windows 系统关闭自动黑屏睡眠</a></li><li><a href="/windows/windows-disable-auto-update.html" class="sidebar-link">Windows 系统禁用系统自动更新</a></li><li><a href="/windows/windows-disable-software-auto-fixed-taskbar.html" class="sidebar-link">Windows 系统禁止软件自动固定到任务栏上</a></li><li><a href="/windows/windows-disable-uac.html" class="sidebar-link">Windows 系统关闭用户帐户控制（UAC）</a></li><li><a href="/windows/windows-disable-windows-defender.html" class="sidebar-link">Windows 系统禁用 Windows Defender</a></li><li><a href="/windows/windows-index.html" class="sidebar-link">Windows 开始菜单搜索不到东西</a></li><li><a href="/windows/windows-keyboard-shortcut.html" class="sidebar-link">Windows 系统的快捷键</a></li><li><a href="/windows/windows-modify-default-setting.html" class="sidebar-link">Windows 修改默认设置</a></li><li><a href="/windows/windows-modify-server-remote-connect-port.html" class="sidebar-link">Windows 服务器系统修改远程连接端口</a></li><li><a href="/windows/windows-useful-application.html" class="sidebar-link">Windows 有用的应用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>VMware Workstation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vmware/vmware-cannot-move-file.html" class="sidebar-link">VMware 虚拟机不能在主机来回拖拽文件</a></li><li><a href="/vmware/vmware-network-mode.html" class="sidebar-link">VMware 虚拟机网络模式说明</a></li><li><a href="/vmware/vmware-processor-settings.html" class="sidebar-link">VMware 处理器设置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/git/git-command.html" class="sidebar-link">Git 命令</a></li><li><a href="/git/git-gitignore.html" class="sidebar-link">Git .gitignore 文件编写规则及常用模板</a></li><li><a href="/git/git-gitignore-file-invalid.html" class="sidebar-link">.gitignore 文件不生效解决方法</a></li><li><a href="/git/gitlab-change-root-password.html" class="sidebar-link">GitLab 修改 root 密码</a></li><li><a href="/git/gitlab-ci-cd.html" class="sidebar-link">GitLab 配置项目CI/CD</a></li><li><a href="/git/gitlab-config-mail.html" class="sidebar-link">GitLab 配置系统发件邮箱</a></li><li><a href="/git/gitlab-console-command.html" class="sidebar-link">GitLab 控制台命令</a></li><li><a href="/git/gitlab-control-script.html" class="sidebar-link">GitLab 控制脚本</a></li><li><a href="/git/gitlab-mirror-repository.html" class="sidebar-link">使用 GitLab 镜像仓库</a></li><li><a href="/git/gitlab-modify-login-page.html" class="sidebar-link">GitLab 修改登录页面</a></li><li><a href="/git/gitlab-modify-user-language.html" class="sidebar-link">GitLab 切换语言</a></li><li><a href="/git/gitlab-regiester-settings.html" class="sidebar-link">GitLab 注册设置</a></li><li><a href="/git/gitlab-upload-file-error-failed-to-start-exif-metadata-cleaner.html" class="sidebar-link">GitLab 上传图片失败</a></li><li><a href="/git/git-unauthentication-git-protocol-on-port-9418-is-no-lonegr-supported.html" class="sidebar-link">Git 报错：The unauthenticated git protocol on port 9418 is no longer supported.</a></li><li><a href="/git/git-unsafe-repository-owned-by-someone-else.html" class="sidebar-link">Git fatal: unsafe repository is owned by someone else</a></li><li><a href="/git/git-webhooks.html" class="sidebar-link">Git Webhooks</a></li><li><a href="/git/sourcetree-server-key-is-not-cached.html" class="sidebar-link">Sourcetree 无法上传代码 The server's host key is not cached.</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>idea</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/idea/idea-basic-config.html" class="sidebar-link">IDEA 基础配置</a></li><li><a href="/idea/idea-break-point-debug.html" class="sidebar-link">IDEA 中 debug 断点调试</a></li><li><a href="/idea/idea-contents-have-differences-only-in-line-separators.html" class="sidebar-link">IDEA 使用 git 上传代码时提示 contents have differences only in line separators</a></li><li><a href="/idea/idea-disable-useless-plugin.html" class="sidebar-link">IDEA 禁用无用的自带插件</a></li><li><a href="/idea/idea-enhance-efficiency.html" class="sidebar-link">IDEA 性能优化</a></li><li><a href="/idea/idea-modify-boolean-getter-template.html" class="sidebar-link">IDEA 修改基本类型中布尔类型 boolean 生成的 getter模板</a></li><li><a href="/idea/idea-plugin-recommendation.html" class="sidebar-link">IDEA 常用插件推荐</a></li><li><a href="/idea/idea-useful-skill.html" class="sidebar-link">IDEA 使用小技巧</a></li><li><a href="/idea/install-idea.html" class="sidebar-link">IDEA 安装教程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Nginx</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nginx/nginx-413-request-entity-too-large.html" class="sidebar-link">Nginx 报错 413 Request Entity Too Large</a></li><li><a href="/nginx/nginx-hide-version.html" class="sidebar-link">隐藏 Nginx 版本号</a></li><li><a href="/nginx/nginx-introduction.html" class="sidebar-link">Nginx 简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>maven</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/maven/maven-basic-config.html" class="sidebar-link">Maven 的基础配置</a></li><li><a href="/maven/maven-settings-xml-explanation.html" class="sidebar-link">Maven 全局配置文件 settings.xml 详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>配置文件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/config/js-cdn.html" class="sidebar-link">JS 组件库 CDN</a></li><li><a href="/config/log4j-properties.html" class="sidebar-link">log4j.properies 配置文件</a></li><li><a href="/config/mariadb-server-cnf.html" class="sidebar-link">MariaDB cnf 配置文件模板</a></li><li><a href="/config/maven-pom-xml.html" class="sidebar-link">Maven pom.xml 常用配置模板</a></li><li><a href="/config/maven-settings-xml.html" class="sidebar-link">Maven settings.xml 配置文件模板</a></li><li><a href="/config/mybatis-config.html" class="sidebar-link">mybatis-config.xml 配置文件</a></li><li><a href="/config/mybatis-log4j-properties.html" class="sidebar-link">MyBatis log4j.properties 配置文件模板</a></li><li><a href="/config/mybatis-mapper-xml.html" class="sidebar-link">MyBatis Mapper.xml 模板文件</a></li><li><a href="/config/mybatis-plus-generator-config.html" class="sidebar-link">MyBatis Plus Generator 配置文件</a></li><li><a href="/config/mysql-jdbc-properties.html" class="sidebar-link">MySQL jdbc.properties 配置文件</a></li><li><a href="/config/nginx-conf.html" class="sidebar-link">nginx.conf 反向代理配置文件模板</a></li><li><a href="/config/spring-application-context-xml.html" class="sidebar-link">Spring applicationContext.xml 配置文件</a></li><li><a href="/config/spring-mybatis-xml-template.html" class="sidebar-link">Spring MyBatis.xml 配置文件模板</a></li><li><a href="/config/web-xml.html" class="sidebar-link">Servlet 3.0 web.xml 配置文件模板</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>模板文件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/template/multi-project-demand-template.html" class="sidebar-link">多项目需求清单模板</a></li><li><a href="/template/new-project-demand-assignment-template.html" class="sidebar-link">新项目需求分工模板</a></li><li><a href="/template/project-bug-collection-template.html" class="sidebar-link">项目 BUG 汇总模板</a></li><li><a href="/template/project-defense-template-file.html" class="sidebar-link">项目答辩模板文件</a></li><li><a href="/template/resource-directory-list.html" class="sidebar-link">资源目录清单</a></li><li><a href="/template/study-note-template-file.html" class="sidebar-link">学习笔记模板</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计算机通识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/common/bandizip-do-not-remove-the-root-directory-when-package.html" class="sidebar-link">Bandizip 设置打包的时候不移除根目录</a></li><li><a href="/common/beyond-compare-ignore-timestamp-when-compare-directory.html" class="sidebar-link">如何设置 BeyondCompare 比较文件夹时忽略时间戳</a></li><li><a href="/common/common-charset.html" class="sidebar-link">计算机编码说明</a></li><li><a href="/common/common-http.html" class="sidebar-link">先对HTTP规范入个门。</a></li><li><a href="/common/common-version.html" class="sidebar-link">版本号命名规则</a></li><li><a href="/common/computer-network-it-jargon.html" class="sidebar-link">计算机互联网黑话</a></li><li><a href="/common/cross-origin.html" class="sidebar-link">跨域问题</a></li><li><a href="/common/disable-maxton-auto-update.html" class="sidebar-link">禁止 Maxton 遨游浏览器自动更新</a></li><li><a href="/common/disk-cluster-size.html" class="sidebar-link">硬盘簇大小</a></li><li><a href="/common/download-ed2k-file.html" class="sidebar-link">下载 ed2k 协议的文件</a></li><li><a href="/common/enhance-baidu-disk-download-speed.html" class="sidebar-link">提高百度网盘下载速度</a></li><li><a href="/common/escape-character.html" class="sidebar-link">转义字符</a></li><li><a href="/common/filezilla-user-guide.html" class="sidebar-link">FileZilla 使用手册</a></li><li><a href="/common/foreign-people-account-regulation.html" class="sidebar-link">外国人账号规律</a></li><li><a href="/common/foxmail-cannot-login-email.html" class="sidebar-link">Foxmail 无法登录邮箱</a></li><li><a href="/common/frequent-used-port.html" class="sidebar-link">常用网络端口</a></li><li><a href="/common/heilmeier-problem.html" class="sidebar-link">你知道“海尔迈耶问题” 吗？</a></li><li><a href="/common/how-to-find-files-in-multi-zip.html" class="sidebar-link">如何在多个压缩包中找到需要的文件</a></li><li><a href="/common/how-to-long-screent-shot.html" class="sidebar-link">如何长截图？</a></li><li><a href="/common/how-to-recover-deleted-file.html" class="sidebar-link">如何恢复已删除的文件</a></li><li><a href="/common/mail-smtp-config.html" class="sidebar-link">邮件 SMTP 配置</a></li><li><a href="/common/md5-collision.html" class="sidebar-link">MD5 碰撞</a></li><li><a href="/common/modify-file-time.html" class="sidebar-link">修改文件时间</a></li><li><a href="/common/music.html" class="sidebar-link">音乐</a></li><li><a href="/common/potplayer-adjust-speed-second.html" class="sidebar-link">PotPlayer 调整快进秒数</a></li><li><a href="/common/potplayer-enhance-voice-volume.html" class="sidebar-link">PotPlayer 提高最大声音大小</a></li><li><a href="/common/situation-task-action-result-formula.html" class="sidebar-link">Star 法则</a></li><li><a href="/common/software-develop-process.html" class="sidebar-link">软件开发流程</a></li><li><a href="/common/solve-problem-start-with-define-problem.html" class="sidebar-link">解决问题从定义问题开始</a></li><li><a href="/common/storage-device-detail.html" class="sidebar-link">可移动设备信息（U 盘）</a></li><li><a href="/common/switch-hosts-auto-update-github-hosts.html" class="sidebar-link">使用 SwitchHosts 自动更新 GitHub Hosts</a></li><li><a href="/common/system-of-numeration.html" class="sidebar-link">进制</a></li><li><a href="/common/television-usb-movie-format.html" class="sidebar-link">电视 USB 电影格式</a></li><li><a href="/common/tencent-document-usage-guideline.html" class="sidebar-link">腾讯文档使用指南</a></li><li><a href="/common/two-step-verification.html" class="sidebar-link">两步验证</a></li><li><a href="/common/typora-settings.html" class="sidebar-link">Typora 设置</a></li><li><a href="/common/web-server-used-in-big-company.html" class="sidebar-link">目前几大厂网站使用的webserver服务器类型</a></li><li><a href="/common/why-use-online-document.html" class="sidebar-link">为什么要使用在线文档？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>面试题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview-question/nginx-interview-question.html" aria-current="page" class="active sidebar-link">Nginx 面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#什么是nginx" class="sidebar-link">什么是Nginx？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx-有哪些优点" class="sidebar-link">Nginx 有哪些优点？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx应用场景" class="sidebar-link">Nginx应用场景？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx怎么处理请求的" class="sidebar-link">Nginx怎么处理请求的？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx-是如何实现高并发的" class="sidebar-link">Nginx 是如何实现高并发的？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#什么是正向代理" class="sidebar-link">什么是正向代理？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#什么是反向代理" class="sidebar-link">什么是反向代理？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#反向代理服务器的优点是什么" class="sidebar-link">反向代理服务器的优点是什么?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx目录结构有哪些" class="sidebar-link">Nginx目录结构有哪些？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx-配置文件-nginx-conf-有哪些属性模块" class="sidebar-link">Nginx 配置文件 nginx.conf 有哪些属性模块?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#cookie和session区别" class="sidebar-link">cookie和session区别？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#为什么-nginx-不使用多线程" class="sidebar-link">为什么 Nginx 不使用多线程？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx和apache的区别" class="sidebar-link">nginx和apache的区别</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#什么是动态资源、静态资源分离" class="sidebar-link">什么是动态资源、静态资源分离？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#为什么要做动、静分离" class="sidebar-link">为什么要做动、静分离？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#什么叫-cdn-服务" class="sidebar-link">什么叫 CDN 服务？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx怎么做的动静分离" class="sidebar-link">Nginx怎么做的动静分离？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx-负载均衡的算法怎么实现的-策略有哪些" class="sidebar-link">Nginx 负载均衡的算法怎么实现的?策略有哪些?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#如何用-nginx-解决前端跨域问题" class="sidebar-link">如何用 Nginx 解决前端跨域问题？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx虚拟主机怎么配置" class="sidebar-link">Nginx虚拟主机怎么配置?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#基于虚拟主机配置域名" class="sidebar-link">基于虚拟主机配置域名</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#基于端口的虚拟主机" class="sidebar-link">基于端口的虚拟主机</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#location的作用是什么" class="sidebar-link">location的作用是什么？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#location正则案例" class="sidebar-link">Location正则案例</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#限流怎么做的" class="sidebar-link">限流怎么做的？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx-的限流都是基于漏桶流算法" class="sidebar-link">Nginx 的限流都是基于漏桶流算法</a></li></ul></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#漏桶流算法和令牌桶算法知道" class="sidebar-link">漏桶流算法和令牌桶算法知道？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx配置高可用性怎么配置" class="sidebar-link">Nginx配置高可用性怎么配置？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx怎么判断别ip不可访问" class="sidebar-link">Nginx怎么判断别IP不可访问？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#在nginx中-如何使用未定义的服务器名称来阻止处理请求" class="sidebar-link">在nginx中，如何使用未定义的服务器名称来阻止处理请求？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#怎么限制浏览器访问" class="sidebar-link">怎么限制浏览器访问？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#rewrite-全局变量是什么" class="sidebar-link">Rewrite 全局变量是什么？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx-如何实现后端服务的健康检查" class="sidebar-link">Nginx 如何实现后端服务的健康检查？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx-如何开启压缩" class="sidebar-link">Nginx 如何开启压缩？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#ngx-http-upstream-module的作用是什么" class="sidebar-link">ngxhttpupstream_module的作用是什么?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#什么是c10k问题" class="sidebar-link">什么是C10K问题?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx是否支持将请求压缩到上游" class="sidebar-link">Nginx是否支持将请求压缩到上游?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#如何在nginx中获得当前的时间" class="sidebar-link">如何在Nginx中获得当前的时间?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#用nginx服务器解释-s的目的是什么" class="sidebar-link">用Nginx服务器解释-s的目的是什么?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#如何在nginx服务器上添加模块" class="sidebar-link">如何在Nginx服务器上添加模块?</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#生产中如何设置worker进程的数量呢" class="sidebar-link">生产中如何设置worker进程的数量呢？</a></li><li class="sidebar-sub-header"><a href="/interview-question/nginx-interview-question.html#nginx状态码" class="sidebar-link">nginx状态码</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>C 语言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/c/windows-download-gcc.html" class="sidebar-link">Windows 下载和配置 gcc 环境</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nginx-面试题"><a href="#nginx-面试题" class="header-anchor">#</a> Nginx 面试题</h1> <h2 id="什么是nginx"><a href="#什么是nginx" class="header-anchor">#</a> 什么是Nginx？</h2> <p>Nginx 是一个轻量级/高性能的反向代理 Web 服务器，用于 HTTP、HTTPS、SMTP、POP3 和 IMAP 协议。他实现非常高效的反向代理、负载平衡，他可以处理 2-3 万并发连接数，官方监测能支持 5 万并发，现在中国使用 nginx 网站用户有很多，例如：新浪、网易、 腾讯等。</p> <h2 id="nginx-有哪些优点"><a href="#nginx-有哪些优点" class="header-anchor">#</a> Nginx 有哪些优点？</h2> <ol><li>跨平台、配置简单。</li> <li>非阻塞、高并发连接：处理 2-3 万并发连接数，官方监测能支持 5 万并发。</li> <li>内存消耗小：开启 10 个 Nginx 才占 150M 内存。</li> <li>成本低廉，且开源。</li> <li>稳定性高，宕机的概率非常小。</li> <li>内置的健康检查功能：如果有一个服务器宕机，会做一个健康检查，再发送的请求就不会发送到宕机的服务器了。重新将请求提交到其他的节点上</li></ol> <h2 id="nginx应用场景"><a href="#nginx应用场景" class="header-anchor">#</a> Nginx应用场景？</h2> <ol><li>http 服务器。Nginx 是一个 http 服务可以独立提供 http 服务。可以做网页静态服务器。</li> <li>虚拟主机。可以实现在一台服务器虚拟出多个网站，例如个人网站使用的虚拟机。</li> <li>反向代理，负载均衡。当网站的访问量达到一定程度后，单台服务器不能满足用户的请求时，需要用多台服务器集群可以使用 nginx 做反向代理。并且多台服务器可以平均分担负载，不会应为某台服务器负载高宕机而某台服务器闲置的情况。</li> <li>nginx 中也可以配置安全管理、比如可以使用 Nginx 搭建 API 接口网关，对每个接口服务进行拦截。</li></ol> <h2 id="nginx怎么处理请求的"><a href="#nginx怎么处理请求的" class="header-anchor">#</a> Nginx怎么处理请求的？</h2> <div class="language- extra-class"><pre class="language-text"><code>server {							# 第一个 Server 区块开始，表示一个独立的虚拟主机站点
  listen 80;						# 提供服务的端口，默认80
  server_name localhost;			# 提供服务的域名主机名
  location / {						# 第一个 location 区块开始
    root html;						# 站点的根目录，相当于 Nginx 的安装目录
    index index.html index.html;	# 默认的首页文件，多个用空格分开
  }									# 第一个 location 区块结果
</code></pre></div><ol><li>首先，Nginx 在启动时，会解析配置文件，得到需要监听的端口与 IP 地址，然后在 Nginx 的 Master 进程里面先初始化好这个监控的 Socket(创建 Socket，设置 addr、reuse 等选项，绑定到指定的 ip 地址端口，再 listen 监听)。</li> <li>然后，再 fork（一个现有进程可以调用 fork 函数创建一个新进程。由 fork 创建的新进程被称为子进程）出多个子进程出来。</li> <li>之后，子进程会竞争 accept 新的连接。此时，客户端就可以向 nginx 发起连接了。当客户端与 nginx 进行三次握手，与 nginx 建立好一个连接后。此时，某一个子进程会 accept 成功，得到这个建立好的连接的 Socket ，然后创建 nginx 对连接的封装，即 ngx_connection_t 结构体。</li> <li>接着，设置读写事件处理函数，并添加读写事件来与客户端进行数据的交换。</li> <li>最后，Nginx 或客户端来主动关掉连接，到此，一个连接就寿终正寝了。</li></ol> <h2 id="nginx-是如何实现高并发的"><a href="#nginx-是如何实现高并发的" class="header-anchor">#</a> Nginx 是如何实现高并发的？</h2> <p>如果一个 server 采用一个进程（或者线程）负责一个 request 的方式，那么进程数就是并发数。那么显而易见的，就是会有很多进程在等待中。等什么？最多的应该是等待网络传输。</p> <p>而 Nginx 的异步非阻塞工作方式正是利用了这点等待的时间。在需要等待的时候，这些进程就空闲出来待命了。因此表现为少数几个进程就解决了大量的并发问题。</p> <p>Nginx 是如何利用的呢，简单来说：同样的 4 个进程，如果采用一个进程负责一个 request 的方式，那么，同时进来 4 个 request 之后，每个进程就负责其中一个，直至会话关闭。期间，如果有第 5 个 request 进来了。就无法及时反应了，因为 4 个进程都没干完活呢，因此，一般有个调度进程，每当新进来了一个 request ，就新开个进程来处理。</p> <p>回想下，BIO 是不是存在酱紫的问题？</p> <p>Nginx 不这样，每进来一个 request ，会有一个 worker 进程去处理。但不是全程的处理，处理到什么程度呢？处理到可能发生阻塞的地方，比如向上游（后端）服务器转发 request ，并等待请求返回。那么，这个处理的 worker 不会这么傻等着，他会在发送完请求后，注册一个事件：“如果 upstream 返回了，告诉我一声，我再接着干”。于是他就休息去了。此时，如果再有 request 进来，他就可以很快再按这种方式处理。而一旦上游服务器返回了，就会触发这个事件，worker 才会来接手，这个 request 才会接着往下走。</p> <p>这就是为什么说，Nginx 基于事件模型。</p> <p>由于 web server 的工作性质决定了每个 request 的大部份生命都是在网络传输中，实际上花费在 server 机器上的时间片不多。这是几个进程就解决高并发的秘密所在。即：</p> <p>webserver 刚好属于网络 IO 密集型应用，不算是计算密集型。</p> <p>异步，非阻塞，使用 epoll ，和大量细节处的优化。也正是 Nginx 之所以然的技术基石。</p> <h2 id="什么是正向代理"><a href="#什么是正向代理" class="header-anchor">#</a> 什么是正向代理？</h2> <p>一个位于客户端和原始服务器（origin server）之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标（原始服务器），然后代理向原始服务器转交请求并将获得的内容返回给客户端。</p> <p>客户端才能使用正向代理。正向代理总结就一句话：代理端代理的是客户端。例如说：我们使用的 OpenVPN 等等。</p> <h2 id="什么是反向代理"><a href="#什么是反向代理" class="header-anchor">#</a> 什么是反向代理？</h2> <p>反向代理（Reverse Proxy）方式，是指以代理服务器来接受 Internet上的连接请求，然后将请求，发给内部网络上的服务器并将从服务器上得到的结果返回给 Internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。</p> <p>反向代理总结就一句话：代理端代理的是服务端。</p> <h2 id="反向代理服务器的优点是什么"><a href="#反向代理服务器的优点是什么" class="header-anchor">#</a> 反向代理服务器的优点是什么?</h2> <p>反向代理服务器可以隐藏源服务器的存在和特征。它充当互联网云和 web 服务器之间的中间层。这对于安全方面来说是很好的，特别是当您使用 web 托管服务时。</p> <h2 id="nginx目录结构有哪些"><a href="#nginx目录结构有哪些" class="header-anchor">#</a> Nginx目录结构有哪些？</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tree /usr/local/nginx</span>
/usr/local/nginx
├── client_body_temp
├── conf                             <span class="token comment"># Nginx所有配置文件的目录</span>
│   ├── fastcgi.conf                 <span class="token comment"># fastcgi相关参数的配置文件</span>
│   ├── fastcgi.conf.default         <span class="token comment"># fastcgi.conf的原始备份文件</span>
│   ├── fastcgi_params               <span class="token comment"># fastcgi的参数文件</span>
│   ├── fastcgi_params.default       
│   ├── koi-utf
│   ├── koi-win
│   ├── mime.types                   <span class="token comment"># 媒体类型</span>
│   ├── mime.types.default
│   ├── nginx.conf                   <span class="token comment"># Nginx主配置文件</span>
│   ├── nginx.conf.default
│   ├── scgi_params                  <span class="token comment"># scgi相关参数文件</span>
│   ├── scgi_params.default  
│   ├── uwsgi_params                 <span class="token comment"># uwsgi相关参数文件</span>
│   ├── uwsgi_params.default
│   └── win-utf
├── fastcgi_temp                     <span class="token comment"># fastcgi临时数据目录</span>
├── html                             <span class="token comment"># Nginx默认站点目录</span>
│   ├── 50x.html                     <span class="token comment"># 错误页面优雅替代显示文件，例如当出现502错误时会调用此页面</span>
│   └── index.html                   <span class="token comment"># 默认的首页文件</span>
├── logs                             <span class="token comment"># Nginx日志目录</span>
│   ├── access.log                   <span class="token comment"># 访问日志文件</span>
│   ├── error.log                    <span class="token comment"># 错误日志文件</span>
│   └── nginx.pid                    <span class="token comment"># pid文件，Nginx进程启动后，会把所有进程的ID号写到此文件</span>
├── proxy_temp                       <span class="token comment"># 临时目录</span>
├── sbin                             <span class="token comment"># Nginx命令目录</span>
│   └── nginx                        <span class="token comment"># Nginx的启动命令</span>
├── scgi_temp                        <span class="token comment"># 临时目录</span>
└── uwsgi_temp                       <span class="token comment"># 临时目录</span>
</code></pre></div><h2 id="nginx-配置文件-nginx-conf-有哪些属性模块"><a href="#nginx-配置文件-nginx-conf-有哪些属性模块" class="header-anchor">#</a> Nginx 配置文件 nginx.conf 有哪些属性模块?</h2> <div class="language- extra-class"><pre class="language-text"><code>worker_processes 1;						# worker进程的数量
events {								# 事件区块开始
  worker_connections 1024;				# 每个worker进程支持的最大连接数
}										# 事件区块结束
http {									# HTTP区块开始
  include mime.types;					# Nginx支持的媒体类型库文件
  default_type application/octet-stream;# 默认的媒体类型
  sendfile on;							# 开启高效传输模式
  keepalive_timeout 65;					# 连接超时
  server {								# 第一个Server区块开始，表示一个独立的虚拟主机站点
    listen 80;							# 提供服务的端口，默认80
    server_name localhost;				# 提供服务的域名主机名
    location / {						# 第一个location区块开始
      root html;						# 站点的根目录，相当于Nginx的安装目录
      index index.html index.htm;		# 默认的首页文件，多个用空格分开
    }									# 第一个location区块结果
    error_page 500 502 503 504 /50x.html;# 出现对应的http状态码时，使用50x.html回应客户
    location = /50x.html {				# location区块开始，访问50x.html
      root html;						# 指定对应的站点目录为html
    }
}
    ......
</code></pre></div><h2 id="cookie和session区别"><a href="#cookie和session区别" class="header-anchor">#</a> cookie和session区别？</h2> <p><strong>共同：</strong></p> <p>存放用户信息。存放的形式：key-value 格式 变量和变量内容键值对。</p> <p><strong>区别：</strong></p> <p>cookie：</p> <ol><li>存放在客户端浏览器</li> <li>每个域名对应一个 cookie，不能跨跃域名访问其他 cookie</li> <li>用户可以查看或修改 cookie</li> <li>http 响应报文里面给你浏览器设置</li> <li>钥匙（用于打开浏览器上锁头）</li></ol> <p>session：</p> <ol><li>存放在服务器（文件，数据库，redis）</li> <li>存放敏感信息</li> <li>锁头</li></ol> <h2 id="为什么-nginx-不使用多线程"><a href="#为什么-nginx-不使用多线程" class="header-anchor">#</a> 为什么 Nginx 不使用多线程？</h2> <p>Apache: 创建多个进程或线程，而每个进程或线程都会为其分配 cpu 和内存（线程要比进程小的多，所以 worker 支持比 perfork 高的并发），并发过大会榨干服务器资源。</p> <p>Nginx: 采用单线程来异步非阻塞处理请求（管理员可以配置 Nginx 主进程的工作进程的数量）(epoll)，不会为每个请求分配 cpu 和内存资源，节省了大量资源，同时也减少了大量的 CPU 的上下文切换。所以才使得 Nginx 支持更高的并发。</p> <h2 id="nginx和apache的区别"><a href="#nginx和apache的区别" class="header-anchor">#</a> nginx和apache的区别</h2> <p>轻量级，同样起 web 服务，比 apache 占用更少的内存和资源。</p> <p>抗并发，nginx 处理请求是异步非阻塞的，而 apache 则是阻塞性的，在高并发下 nginx 能保持低资源，低消耗高性能。</p> <p>高度模块化的设计，编写模块相对简单。</p> <p>最核心的区别在于 apache 是同步多进程模型，一个连接对应一个进程，nginx 是异步的，多个连接可以对应一个进程。</p> <table><thead><tr><th>Nginx</th> <th>Apache</th></tr></thead> <tbody><tr><td>nginx 是一个基于事件的 web 服务器</td> <td>apache 是一个基于流程的服务器</td></tr> <tr><td>所有请求都由一个线程处理</td> <td>单个线程处理单个请求</td></tr> <tr><td>nginx 避免子进程的概念</td> <td>apache 是基于子进程的</td></tr> <tr><td>nginx 类似于速度</td> <td>apache 类似于功率</td></tr> <tr><td>nginx 在内存消耗和连接方面比较好</td> <td>apache 在内存消耗和连接上没有提高</td></tr> <tr><td>nginx 在负载均衡方面表现较好</td> <td>当流量到达进程极限时，apache 将拒绝新的连接。</td></tr> <tr><td>对于 php 来说，nginx 可能更可取，因为它支持 php</td> <td>apache 支持 php，python，perl 和其他语言使用插件，当应用程序基于 python 或 ruby 时，它非常有用。</td></tr> <tr><td>nginx 不支持 IBMI 和 openvms 一样的 os</td> <td>apache 支持更多的 os</td></tr> <tr><td>nginx 只具有核心功能</td> <td>apache 提供了比 nginx 更多的功能</td></tr> <tr><td>nginx 的性能和可伸缩性不依赖于硬件</td> <td>apache 依赖于 cpu 和内存等硬件组件。</td></tr></tbody></table> <h2 id="什么是动态资源、静态资源分离"><a href="#什么是动态资源、静态资源分离" class="header-anchor">#</a> 什么是动态资源、静态资源分离？</h2> <p>动态资源、静态资源分离，是让动态网站里的动态网页根据一定规则把不变的资源和经常变的资源区分开来，动静资源做好了拆分以后我们就可以根据静态资源的特点将其做缓存操作，这就是网站静态化处理的核心思路。</p> <p>动态资源、静态资源分离简单的概括是：动态文件与静态文件的分离。</p> <h2 id="为什么要做动、静分离"><a href="#为什么要做动、静分离" class="header-anchor">#</a> 为什么要做动、静分离？</h2> <p>在我们的软件开发中，有些请求是需要后台处理的（如：.jsp，.do 等等），有些请求是不需要经过后台处理的（如：css、html、jpg、js 等等文件），这些不需要经过后台处理的文件称为静态文件，否则动态文件。</p> <p>因此我们后台处理忽略静态文件。这会有人又说那我后台忽略静态文件不就完了吗？当然这是可以的，但是这样后台的请求次数就明显增多了。在我们对资源的响应速度有要求的时候，我们应该使用这种动静分离的策略去解决动、静分离将网站静态资源（HTML，JavaScript，CSS，img 等文件）与后台应用分开部署，提高用户访问静态代码的速度，降低对后台应用访问。</p> <p>这里我们将静态资源放到 Nginx 中，动态资源转发到 Tomcat 服务器中去。</p> <p>当然，因为现在七牛、阿里云等 CDN 服务已经很成熟，主流的做法，是把静态资源缓存到 CDN 服务中，从而提升访问速度。</p> <p>相比本地的 Nginx 来说，CDN 服务器由于在国内有更多的节点，可以实现用户的就近访问。并且，CDN 服务可以提供更大的带宽，不像我们自己的应用服务，提供的带宽是有限的。</p> <h2 id="什么叫-cdn-服务"><a href="#什么叫-cdn-服务" class="header-anchor">#</a> 什么叫 CDN 服务？</h2> <p>CDN ，即内容分发网络。</p> <p>其目的是，通过在现有的 Internet中增加一层新的网络架构，将网站的内容发布到最接近用户的网络边缘，使用户可就近取得所需的内容，提高用户访问网站的速度。</p> <p>一般来说，因为现在 CDN 服务比较大众，所以基本所有公司都会使用 CDN 服务。</p> <h2 id="nginx怎么做的动静分离"><a href="#nginx怎么做的动静分离" class="header-anchor">#</a> Nginx怎么做的动静分离？</h2> <p>只需要指定路径对应的目录。<code>location /</code> 可以使用正则表达式匹配。并指定对应的硬盘中的目录。如下：（操作都是在 Linux 上）</p> <div class="language-bash extra-class"><pre class="language-bash"><code>location /image/ <span class="token punctuation">{</span>
  root /usr/local/static/<span class="token punctuation">;</span>
  autoindex on<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>步骤：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 创建目录</span>
<span class="token function">mkdir</span> /usr/local/static/image
 
<span class="token comment"># 进入目录</span>
<span class="token builtin class-name">cd</span>  /usr/local/static/image
 
<span class="token comment"># 上传照片</span>
photo.jpg
 
<span class="token comment"># 重启nginx</span>
<span class="token function">sudo</span> nginx -s reload
</code></pre></div><p>打开浏览器 输入 server_name/image/1.jpg 就可以访问该静态图片了</p> <h2 id="nginx-负载均衡的算法怎么实现的-策略有哪些"><a href="#nginx-负载均衡的算法怎么实现的-策略有哪些" class="header-anchor">#</a> Nginx 负载均衡的算法怎么实现的?策略有哪些?</h2> <p>为了避免服务器崩溃，大家会通过负载均衡的方式来分担服务器压力。将对台服务器组成一个集群，当用户访问时，先访问到一个转发服务器，再由转发服务器将访问分发到压力更小的服务器。</p> <p>Nginx负载均衡实现的策略有以下五种：</p> <ol><li><p>轮询（默认）
每个请求按时间顺序逐一分配到不同的后端服务器，如果后端某个服务器宕机，能自动剔除故障系统。</p> <div class="language- extra-class"><pre class="language-text"><code>upstream backserver {
 server 192.168.0.12;
 server 192.168.0.13;
}
</code></pre></div></li> <li><p>权重 weight
weight 的值越大，分配到的访问概率越高，主要用于后端每台服务器性能不均衡的情况下。其次是为在主从的情况下设置不同的权值，达到合理有效的地利用主机资源。</p> <div class="language- extra-class"><pre class="language-text"><code># 权重越高，在被访问的概率越大，如上例，分别是20%，80%。
upstream backserver {
 server 192.168.0.12 weight=2;
 server 192.168.0.13 weight=8;
}
</code></pre></div></li> <li><p>ip_hash（IP 绑定）</p> <p>每个请求按访问 IP 的哈希结果分配，使来自同一个 IP 的访客固定访问一台后端服务器，并且可以有效解决动态网页存在的 session 共享问题。</p> <div class="language- extra-class"><pre class="language-text"><code>upstream backserver {
 ip_hash;
 server 192.168.0.12:88;
 server 192.168.0.13:80;
}
</code></pre></div></li> <li><p>fair（第三方插件）</p> <p>必须安装 upstream_fair 模块。</p> <p>对比 weight、ip_hash 更加智能的负载均衡算法，fair 算法可以根据页面大小和加载时间长短智能地进行负载均衡，响应时间短的优先分配。</p> <div class="language- extra-class"><pre class="language-text"><code># 哪个服务器的响应速度快，就将请求分配到那个服务器上。
upstream backserver {
 server server1;
 server server2;
 fair;
}
</code></pre></div></li> <li><p>url_hash（第三方插件）</p> <p>必须安装 Nginx 的 hash 软件包</p> <p>按访问 url 的 hash 结果来分配请求，使每个 url 定向到同一个后端服务器，可以进一步提高后端缓存服务器的效率。</p> <div class="language- extra-class"><pre class="language-text"><code>upstream backserver {
 server squid1:3128;
 server squid2:3128;
 hash $request_uri;
 hash_method crc32;
}
</code></pre></div></li></ol> <h2 id="如何用-nginx-解决前端跨域问题"><a href="#如何用-nginx-解决前端跨域问题" class="header-anchor">#</a> 如何用 Nginx 解决前端跨域问题？</h2> <p>使用 Nginx 转发请求。把跨域的接口写成调本域的接口，然后将这些接口转发到真正的请求地址。</p> <h2 id="nginx虚拟主机怎么配置"><a href="#nginx虚拟主机怎么配置" class="header-anchor">#</a> Nginx虚拟主机怎么配置?</h2> <p>1、基于域名的虚拟主机，通过域名来区分虚拟主机——应用：外部网站</p> <p>2、基于端口的虚拟主机，通过端口来区分虚拟主机——应用：公司内部网站，外部网站的管理后台</p> <p>3、基于 ip 的虚拟主机。</p> <h2 id="基于虚拟主机配置域名"><a href="#基于虚拟主机配置域名" class="header-anchor">#</a> 基于虚拟主机配置域名</h2> <p>需要建立 <code>/data/www</code>，<code>/data/bbs</code> 目录，Windows 本地 hosts 添加虚拟机 ip 地址对应的域名解析；对应域名网站目录下新增 <code>index.html</code> 文件；</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># 当客户端访问 www.lijie.com，监听端口号为 80，直接跳转到 data/www 目录下文件</span>
server <span class="token punctuation">{</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  server_name www<span class="token operator">.</span>lijie<span class="token operator">.</span>com<span class="token punctuation">;</span>
  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    root data<span class="token operator">/</span>www<span class="token punctuation">;</span>
    index index<span class="token operator">.</span>html index<span class="token operator">.</span>htm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># 当客户端访问 www.lijie.com，监听端口号为 80，直接跳转到 data/bbs 目录下文件</span>
server <span class="token punctuation">{</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  server_name bbs<span class="token operator">.</span>lijie<span class="token operator">.</span>com<span class="token punctuation">;</span>
  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    root data<span class="token operator">/</span>bbs<span class="token punctuation">;</span>
    index index<span class="token operator">.</span>html index<span class="token operator">.</span>htm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="基于端口的虚拟主机"><a href="#基于端口的虚拟主机" class="header-anchor">#</a> 基于端口的虚拟主机</h2> <p>使用端口来区分，浏览器使用 域名 或 ip地址:端口号 访问</p> <div class="language-perl extra-class"><pre class="language-perl"><code><span class="token comment"># 当客户端访问 www.lijie.com，监听端口号为 8080，直接跳转到 data/www 目录下文件</span>
server <span class="token punctuation">{</span>
  listen <span class="token number">8080</span><span class="token punctuation">;</span>
  server_name <span class="token number">8080</span><span class="token operator">.</span>lijie<span class="token operator">.</span>com<span class="token punctuation">;</span>
  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    root data<span class="token operator">/</span>www<span class="token punctuation">;</span>
    index index<span class="token operator">.</span>html index<span class="token operator">.</span>htm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># 当客户端访问 www.lijie.com，监听端口号为 80 直接跳转到真实ip服务器地址 127.0.0.1:8080</span>
server <span class="token punctuation">{</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  server_name www<span class="token operator">.</span>lijie<span class="token operator">.</span>com<span class="token punctuation">;</span>
  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    proxy_pass http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token v-string string">127.0.0.1</span><span class="token punctuation">:</span><span class="token number">8080</span><span class="token punctuation">;</span>
    index index<span class="token operator">.</span>html index<span class="token operator">.</span>htm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="location的作用是什么"><a href="#location的作用是什么" class="header-anchor">#</a> location的作用是什么？</h2> <p>location 指令的作用是根据用户请求的 URI 来执行不同的应用，也就是根据用户请求的网站 URL 进行匹配，匹配成功即进行相关的操作。
location 的语法能说出来吗？
注意：~ 代表自己输入的英文字母</p> <table><thead><tr><th>匹配符</th> <th>匹配规则</th> <th>优先级</th></tr></thead> <tbody><tr><td>=</td> <td>精确匹配</td> <td>1</td></tr> <tr><td>^~</td> <td>以某个字符串开头</td> <td>2</td></tr> <tr><td>~</td> <td>区分大小写的正则匹配</td> <td>3</td></tr> <tr><td>~*</td> <td>不区分大小写的正则匹配</td> <td>4</td></tr> <tr><td>!~</td> <td>区分大小写不匹配的正则</td> <td>5</td></tr> <tr><td>!~*</td> <td>不区分大小写不匹配的正则</td> <td>6</td></tr> <tr><td>/</td> <td>通用匹配，任何请求都会匹配到</td> <td>7</td></tr></tbody></table> <h2 id="location正则案例"><a href="#location正则案例" class="header-anchor">#</a> Location正则案例</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 优先级1：精确匹配，根路径</span>
location <span class="token operator">=</span>/ <span class="token punctuation">{</span>
  <span class="token builtin class-name">return</span> <span class="token number">400</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># 优先级2：以某个字符串开头，以 av 开头的，优先匹配这里，区分大小写</span>
location ^~ /av <span class="token punctuation">{</span>
  root /data/av/<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># 优先级3：区分大小写的正则匹配，匹配 /media*****路径</span>
location ~ /media <span class="token punctuation">{</span>
  <span class="token builtin class-name">alias</span> /data/static/<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># 优先级4 ，不区分大小写的正则匹配，所有的****.jpg|gif|png 都走这里</span>
location ~* .*<span class="token punctuation">\</span>.<span class="token punctuation">(</span>jpg<span class="token operator">|</span>gif<span class="token operator">|</span>png<span class="token operator">|</span>js<span class="token operator">|</span>css<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
  root  /data/av/<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># 优先7，通用匹配</span>
location / <span class="token punctuation">{</span>
  <span class="token builtin class-name">return</span> <span class="token number">403</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="限流怎么做的"><a href="#限流怎么做的" class="header-anchor">#</a> 限流怎么做的？</h2> <p>Nginx 限流就是限制用户请求速度，防止服务器受不了</p> <p>限流有 3 种：</p> <ol><li>正常限制访问频率（正常流量）</li> <li>突发限制访问频率（突发流量）</li> <li>限制并发连接数</li></ol> <h3 id="nginx-的限流都是基于漏桶流算法"><a href="#nginx-的限流都是基于漏桶流算法" class="header-anchor">#</a> Nginx 的限流都是基于漏桶流算法</h3> <p>实现三种限流算法</p> <p><strong>1、正常限制访问频率（正常流量）</strong>：</p> <p>限制一个用户发送的请求，我 Nginx 多久接收一个请求。</p> <p>Nginx 中使用 ngx_http_limit_req_module 模块来限制的访问频率，限制的原理实质是基于漏桶算法原理来实现的。在 nginx.conf 配置文件中可以使用 limit_req_zone 命令及 limit_req 命令限制单个 IP 的请求处理频率。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 定义限流维度，一个用户一分钟一个请求进来，多余的全部漏掉</span>
limit_req_zone <span class="token variable">$binary_remote_addr</span> <span class="token assign-left variable">zone</span><span class="token operator">=</span>one:10m <span class="token assign-left variable">rate</span><span class="token operator">=</span>1r/m<span class="token punctuation">;</span>

<span class="token comment"># 绑定限流维度</span>
server <span class="token punctuation">{</span>
  location/seckill.html <span class="token punctuation">{</span>
    limit_req <span class="token assign-left variable">zone</span><span class="token operator">=</span>zone<span class="token punctuation">;</span>
    proxy_pass http://lj_seckill<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>1r/s 代表 1 秒一个请求，1r/m 一分钟接收一个请求， 如果 Nginx 这时还有别人的请求没有处理完，Nginx 就会拒绝处理该用户请求。</p> <p>2、突发限制访问频率（突发流量）：</p> <p>限制一个用户发送的请求，我 Nginx 多久接收一个。</p> <p>上面的配置一定程度可以限制访问频率，但是也存在着一个问题：如果突发流量超出请求被拒绝处理，无法处理活动时候的突发流量，这时候应该如何进一步处理呢？Nginx 提供 burst 参数结合 nodelay 参数可以解决流量突发的问题，可以设置能处理的超过设置的请求数外能额外处理的请求数。我们可以将之前的例子添加 burst 参数以及 nodelay 参数：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 定义限流维度，一个用户一分钟一个请求进来，多余的全部漏掉</span>
limit_req_zone <span class="token variable">$binary_remote_addr</span> <span class="token assign-left variable">zone</span><span class="token operator">=</span>one:10m <span class="token assign-left variable">rate</span><span class="token operator">=</span>1r/m<span class="token punctuation">;</span>

<span class="token comment"># 绑定限流维度</span>
server <span class="token punctuation">{</span>
  location/seckill.html <span class="token punctuation">{</span>
    limit_req <span class="token assign-left variable">zone</span><span class="token operator">=</span>zone <span class="token assign-left variable">burst</span><span class="token operator">=</span><span class="token number">5</span> nodelay<span class="token punctuation">;</span>
    proxy_pass http://lj_seckill<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>为什么就多了一个 burst=5 nodelay; 呢，多了这个可以代表Nginx对于一个用户的请求会立即处理前五个，多余的就慢慢来落，没有其他用户的请求我就处理你的，有其他的请求的话我Nginx就漏掉不接受你的请求</p> <p><strong>3、 限制并发连接数</strong>
Nginx中的ngx_http_limit_conn_module模块提供了限制并发连接数的功能，可以使用limit_conn_zone指令以及limit_conn执行进行配置。接下来我们可以通过一个简单的例子来看下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>    http <span class="token punctuation">{</span>
        limit_conn_zone <span class="token variable">$binary_remote_addr</span> <span class="token assign-left variable">zone</span><span class="token operator">=</span>myip:10m<span class="token punctuation">;</span>
        limit_conn_zone <span class="token variable">$server_name</span> <span class="token assign-left variable">zone</span><span class="token operator">=</span>myServerName:10m<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    server <span class="token punctuation">{</span>
        location / <span class="token punctuation">{</span>
            limit_conn myip <span class="token number">10</span><span class="token punctuation">;</span>
            limit_conn myServerName <span class="token number">100</span><span class="token punctuation">;</span>
            rewrite / http://www.lijie.net permanent<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>上面配置了单个IP同时并发连接数最多只能10个连接，并且设置了整个虚拟服务器同时最大并发数最多只能100个链接。当然，只有当请求的header被服务器处理后，虚拟服务器的连接数才会计数。刚才有提到过Nginx是基于漏桶算法原理实现的，实际上限流一般都是基于漏桶算法和令牌桶算法实现的。</p> <h2 id="漏桶流算法和令牌桶算法知道"><a href="#漏桶流算法和令牌桶算法知道" class="header-anchor">#</a> 漏桶流算法和令牌桶算法知道？</h2> <p><a href="https://blog.csdn.net/wuzhiwei549/article/details/105807503" target="_blank" rel="noopener noreferrer">一文搞定，手撸Springboot + aop + Lua分布式限流的最佳实践_vincent-CSDN博客_springboot如何限流<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>漏桶算法</strong>
漏桶算法思路很简单，我们把水比作是请求，漏桶比作是系统处理能力极限，水先进入到漏桶里，漏桶里的水按一定速率流出，当流出的速率小于流入的速率时，由于漏桶容量有限，后续进入的水直接溢出（拒绝请求），以此实现限流。</p> <p><img src="/assets/img/format,png.fcbc182b.png" alt="springboot + aop + Lua分布式限流的最佳实践"></p> <p>令牌桶算法
令牌桶算法的原理也比较简单，我们可以理解成医院的挂号看病，只有拿到号以后才可以进行诊病。</p> <p>系统会维护一个令牌（token）桶，以一个恒定的速度往桶里放入令牌（token），这时如果有请求进来想要被处理，则需要先从桶里获取一个令牌（token），当桶里没有令牌（token）可取时，则该请求将被拒绝服务。令牌桶算法通过控制桶的容量、发放令牌的速率，来达到对请求的限制。
<img src="/assets/img/format,png-16508222771972.2f0f010d.png" alt="springboot + aop + Lua分布式限流的最佳实践"></p> <h2 id="nginx配置高可用性怎么配置"><a href="#nginx配置高可用性怎么配置" class="header-anchor">#</a> Nginx配置高可用性怎么配置？</h2> <p>当上游服务器（真实访问服务器），一旦出现故障或者是没有及时相应的话，应该直接轮询到下一台服务器，保证服务器的高可用。</p> <p>Nginx 配置代码：</p> <div class="language-perl extra-class"><pre class="language-perl"><code>server <span class="token punctuation">{</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  server_name www<span class="token operator">.</span>lijie<span class="token operator">.</span>com<span class="token punctuation">;</span>
  location <span class="token operator">/</span> <span class="token punctuation">{</span>
    <span class="token comment"># 指定上游服务器负载均衡服务器</span>
    proxy_pass http<span class="token punctuation">:</span><span class="token operator">//</span>backServer<span class="token punctuation">;</span>
    <span class="token comment"># nginx与上游服务器(真实访问的服务器)超时时间 后端服务器连接的超时时间_发起握手等候响应超时时间</span>
    proxy_connect_timeout 1s<span class="token punctuation">;</span>
    <span class="token comment"># nginx发送给上游服务器(真实访问的服务器)超时时间</span>
    proxy_send_timeout 1s<span class="token punctuation">;</span>
    <span class="token comment"># nginx接受上游服务器(真实访问的服务器)超时时间</span>
    proxy_read_timeout 1s<span class="token punctuation">;</span>
    index index<span class="token operator">.</span>html index<span class="token operator">.</span>htm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="nginx怎么判断别ip不可访问"><a href="#nginx怎么判断别ip不可访问" class="header-anchor">#</a> Nginx怎么判断别IP不可访问？</h2> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># 如果访问的ip地址为 192.168.9.115，则返回403</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$remote_addr</span> <span class="token operator">=</span> <span class="token number">192.168</span><span class="token number">.9</span><span class="token number">.115</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">403</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="在nginx中-如何使用未定义的服务器名称来阻止处理请求"><a href="#在nginx中-如何使用未定义的服务器名称来阻止处理请求" class="header-anchor">#</a> 在nginx中，如何使用未定义的服务器名称来阻止处理请求？</h2> <p>只需将请求删除的服务器就可以定义为：</p> <p>服务器名被保留一个空字符串，他在没有主机头字段的情况下匹配请求，而一个特殊的nginx的非标准代码被返回，从而终止连接。</p> <h2 id="怎么限制浏览器访问"><a href="#怎么限制浏览器访问" class="header-anchor">#</a> 怎么限制浏览器访问？</h2> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># 不允许谷歌浏览器访问，如果是谷歌浏览器返回 500</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$http_user_agent</span> <span class="token operator">~</span> Chrome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">500</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="rewrite-全局变量是什么"><a href="#rewrite-全局变量是什么" class="header-anchor">#</a> Rewrite 全局变量是什么？</h2> <div class="language-swift extra-class"><pre class="language-swift"><code>$remote_addr        <span class="token comment">//获取客户端ip</span>
$binary_remote_addr <span class="token comment">//客户端ip（二进制)</span>
$remote_port        <span class="token comment">//客户端port，如：50472</span>
$remote_user        <span class="token comment">//已经经过Auth Basic Module验证的用户名</span>
$host           <span class="token comment">//请求主机头字段，否则为服务器名称，如:blog.sakmon.com</span>
$request        <span class="token comment">//用户请求信息，如：GET ?a=1&amp;b=2 HTTP/1.1</span>
$request_filename   <span class="token comment">//当前请求的文件的路径名，由root或alias和URI request组合而成，如：/2013/81.html</span>
$status         <span class="token comment">//请求的响应状态码,如:200</span>
$body_bytes_sent        <span class="token comment">// 响应时送出的body字节数数量。即使连接中断，这个数据也是精确的,如：40</span>
$content_length        <span class="token comment">// 等于请求行的“Content_Length”的值</span>
$content_type          <span class="token comment">// 等于请求行的“Content_Type”的值</span>
$http_referer          <span class="token comment">// 引用地址</span>
$http_user_agent      <span class="token comment">// 客户端agent信息,如：Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.76 Safari/537.36</span>
$args            <span class="token comment">//与$query_string相同 等于当中URL的参数(GET)，如a=1&amp;b=2</span>
$document_uri        <span class="token comment">//与$uri相同  这个变量指当前的请求URI，不包括任何参数(见$args) 如:/2013/81.html</span>
$document_root       <span class="token comment">//针对当前请求的根路径设置值</span>
$hostname        <span class="token comment">//如：centos53.localdomain</span>
$http_cookie        <span class="token comment">//客户端cookie信息</span>
$cookie_COOKIE      <span class="token comment">//cookie COOKIE变量的值</span>
$is_args    <span class="token comment">//如果有$args参数，这个变量等于”?”，否则等于”&quot;，空值，如?</span>
$limit_rate <span class="token comment">//这个变量可以限制连接速率，0表示不限速</span>
$query_string       <span class="token comment">// 与$args相同 等于当中URL的参数(GET)，如a=1&amp;b=2</span>
$request_body      <span class="token comment">// 记录POST过来的数据信息</span>
$request_body_file  <span class="token comment">//客户端请求主体信息的临时文件名</span>
$request_method       <span class="token comment">//客户端请求的动作，通常为GET或POST,如：GET</span>
$request_uri          <span class="token comment">//包含请求参数的原始URI，不包含主机名，如：/2013/81.html?a=1&amp;b=2</span>
$scheme            <span class="token comment">//HTTP方法（如http，https）,如：http</span>
$uri            <span class="token comment">//这个变量指当前的请求URI，不包括任何参数(见$args) 如:/2013/81.html</span>
$request_completion <span class="token comment">//如果请求结束，设置为OK. 当请求未结束或如果该请求不是请求链串的最后一个时，为空(Empty)，如：OK</span>
$server_protocol    <span class="token comment">//请求使用的协议，通常是HTTP/1.0或HTTP/1.1，如：HTTP/1.1</span>
$server_addr        <span class="token comment">//服务器IP地址，在完成一次系统调用后可以确定这个值</span>
$server_name        <span class="token comment">//服务器名称，如：blog.sakmon.com</span>
$server_port        <span class="token comment">//请求到达服务器的端口号,如：80</span>
</code></pre></div><h2 id="nginx-如何实现后端服务的健康检查"><a href="#nginx-如何实现后端服务的健康检查" class="header-anchor">#</a> Nginx 如何实现后端服务的健康检查？</h2> <p><strong>方式一</strong>，利用 nginx 自带模块 ngx_http_proxy_module 和 ngx_http_upstream_module 对后端节点做健康检查。</p> <p><strong>方式二(推荐)</strong>，利用 nginx_upstream_check_module 模块对后端节点做健康检查。</p> <h2 id="nginx-如何开启压缩"><a href="#nginx-如何开启压缩" class="header-anchor">#</a> Nginx 如何开启压缩？</h2> <p>开启 nginx gzip 压缩后，网页、css、js 等静态资源的大小会大大的减少，从而可以节约大量的带宽，提高传输效率，给用户快的体验。虽然会消耗 cpu 资源，但是为了给用户更好的体验是值得的。</p> <p>开启的配置如下：</p> <p>将以上配置放到nginx.conf的http{ … }节点中。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>http <span class="token punctuation">{</span>
  <span class="token comment"># 开启gzip</span>
  <span class="token function">gzip</span> on<span class="token punctuation">;</span>
 
  <span class="token comment"># 启用gzip压缩的最小文件；小于设置值的文件将不会被压缩</span>
  gzip_min_length 1k<span class="token punctuation">;</span>
 
  <span class="token comment"># gzip 压缩级别 1-10 </span>
  gzip_comp_level <span class="token number">2</span><span class="token punctuation">;</span>
 
  <span class="token comment"># 进行压缩的文件类型。</span>
 
  gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png<span class="token punctuation">;</span>
 
  <span class="token comment"># 是否在http header中添加Vary: Accept-Encoding，建议开启</span>
  gzip_vary on<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>保存并重启nginx，刷新页面（为了避免缓存，请强制刷新）就能看到效果了。以谷歌浏览器为例，通过F12看请求的响应头部：</p> <p>我们可以先来对比下，如果我们没有开启zip压缩之前，我们的对应的文件大小，如下所示：</p> <p><img src="/assets/img/53789ebbbed2c88d9f9643f177ced5c1.b7a94c0e.png" alt="img"></p> <p>现在我们开启了gzip进行压缩后的文件的大小，可以看到如下所示：</p> <p><img src="/assets/img/8620feba4fbe5595a4113f95c187685f.5728e6c6.png" alt="img"></p> <p>并且我们查看响应头会看到gzip这样的压缩，如下所示</p> <p><img src="/assets/img/2b99a256b2811527930ce3168898a741.3ae7f533.png" alt="img"></p> <p><strong>gzip压缩前后效果对比：jquery原大小90kb，压缩后只有30kb。</strong></p> <p><strong>gzip虽然好用，但是以下类型的资源不建议启用。</strong></p> <p>1、图片类型</p> <p>原因：图片如jpg、png本身就会有压缩，所以就算开启gzip后，压缩前和压缩后大小没有多大区别，所以开启了反而会白白的浪费资源。（Tips：可以试试将一张jpg图片压缩为zip，观察大小并没有多大的变化。虽然zip和gzip算法不一样，但是可以看出压缩图片的价值并不大）</p> <p>2、大文件</p> <p>原因：会消耗大量的cpu资源，且不一定有明显的效果。</p> <h2 id="ngx-http-upstream-module的作用是什么"><a href="#ngx-http-upstream-module的作用是什么" class="header-anchor">#</a> ngx_http_upstream_module的作用是什么?</h2> <p>ngx_http_upstream_module 用于定义可通过 fastcgi 传递、proxy 传递、uwsgi 传递、memcached 传递和 scgi 传递指令来引用的服务器组。</p> <h2 id="什么是c10k问题"><a href="#什么是c10k问题" class="header-anchor">#</a> 什么是C10K问题?</h2> <p>C10K问题是指无法同时处理大量客户端(10,000)的网络套接字。</p> <h2 id="nginx是否支持将请求压缩到上游"><a href="#nginx是否支持将请求压缩到上游" class="header-anchor">#</a> Nginx是否支持将请求压缩到上游?</h2> <p>您可以使用Nginx模块gunzip将请求压缩到上游。gunzip模块是一个过滤器，它可以对不支持“gzip”编码方法的客户机或服务器使用“内容编码:gzip”来解压缩响应。</p> <h2 id="如何在nginx中获得当前的时间"><a href="#如何在nginx中获得当前的时间" class="header-anchor">#</a> 如何在Nginx中获得当前的时间?</h2> <p>要获得Nginx的当前时间，必须使用SSI模块、$date_gmt和$date_local的变量。</p> <p>Proxy_set_header THE-TIME $date_gmt;</p> <h2 id="用nginx服务器解释-s的目的是什么"><a href="#用nginx服务器解释-s的目的是什么" class="header-anchor">#</a> 用Nginx服务器解释-s的目的是什么?</h2> <p>用于运行Nginx -s参数的可执行文件。</p> <h2 id="如何在nginx服务器上添加模块"><a href="#如何在nginx服务器上添加模块" class="header-anchor">#</a> 如何在Nginx服务器上添加模块?</h2> <p>在编译过程中，必须选择Nginx模块，因为Nginx不支持模块的运行时间选择。</p> <h2 id="生产中如何设置worker进程的数量呢"><a href="#生产中如何设置worker进程的数量呢" class="header-anchor">#</a> <strong>生产中如何设置worker进程的数量呢</strong>？</h2> <p>在有多个cpu的情况下，可以设置多个worker，worker进程的数量可以设置到和cpu的核心数一样多，如果在单个cpu上起多个worker进程，那么操作系统会在多个worker之间进行调度，这种情况会降低系统性能，如果只有一个cpu，那么只启动一个worker进程就可以了。</p> <h2 id="nginx状态码"><a href="#nginx状态码" class="header-anchor">#</a> nginx状态码</h2> <p><strong>499</strong>：服务端处理时间过长，客户端主动关闭了连接。</p> <p>502：
(1). FastCGI进程是否已经启动
(2). FastCGI worker进程数是否不够
(3). FastCGI执行时间过长</p> <ul><li><p>fastcgi_connect_timeout 300;</p></li> <li><p>fastcgi_send_timeout 300;</p></li> <li><p>fastcgi_read_timeout 300;</p></li></ul> <p>(4). FastCGI Buffer不够，nginx和apache一样，有前端缓冲限制，可以调整缓冲参数</p> <ul><li>fastcgi_buffer_size 32k;</li> <li>fastcgi_buffers 8 32k;</li></ul> <p>(5). Proxy Buffer不够，如果你用了Proxying，调整</p> <p>proxy_buffer_size 16k;
proxy_buffers 4 16k;</p> <p>(6). php脚本执行时间过长</p> <p>将 php-fpm.conf 的 0s 的 0s 改成一个时间</p> <blockquote><p>参考资料：</p> <p><a href="https://blog.csdn.net/wuzhiwei549/article/details/122758937" target="_blank" rel="noopener noreferrer">手撸架构，Nginx 面试40问<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://gitlab.com/samho2008/samho2008.github.io/-/edit/master/src/interview-question/nginx-interview-question.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/common/why-use-online-document.html" class="prev">
        为什么要使用在线文档？
      </a></span> <span class="next"><a href="/c/windows-download-gcc.html">
        Windows 下载和配置 gcc 环境
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.7d6ea31b.js" defer></script><script src="/assets/js/9.acf81f66.js" defer></script><script src="/assets/js/74.94cc89c0.js" defer></script>
  </body>
</html>
